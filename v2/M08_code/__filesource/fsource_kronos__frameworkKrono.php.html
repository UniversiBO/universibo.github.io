<html>
<head>
<title>File Source for Krono.php</title>
<link rel="stylesheet" type="text/css" href="../media/style.css">
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
    <td class="header_top">kronos</td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td class="header_menu">
  		  [ <a href="../classtrees_kronos.html" class="menu">class tree: kronos</a> ]
		  [ <a href="../elementindex_kronos.html" class="menu">index: kronos</a> ]
		  [ <a href="../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="200" class="menu">
	<div id="todolist">
			<p><a href="../todolist.html">Todo List</a></p>
	</div>
      <b>Packages:</b><br />
              <a href="../li_undefined_package.html">undefined_package</a><br />
              <a href="../li_DB.html">DB</a><br />
              <a href="../li_framework.html">framework</a><br />
              <a href="../li_kronos.html">kronos</a><br />
              <a href="../li_PHPMailer.html">PHPMailer</a><br />
              <a href="../li_PHPUnit.html">PHPUnit</a><br />
              <a href="../li_Smarty.html">Smarty</a><br />
              <a href="../li_universibo.html">universibo</a><br />
              <a href="../li_universibo_tests.html">universibo_tests</a><br />
            <br /><br />
                  
      
          </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<h1 align="center">Source for file Krono.php</h1>
<p>Documentation is available at <a href="../kronos/_universibo2_framework_Krono_php.html">Krono.php</a></p>
<pre><a name="a1"></a><br />1     <strong>&lt;?php</strong><a name="a2"></a><br />2     <font color="green">/*</font><a name="a3"></a><br />3     <font color="green">+--+ Project Name: KronoClass</font><a name="a4"></a><br />4     <font color="green">+--+ Version: 0.6</font><a name="a5"></a><br />5     <font color="green">+--+ Project Author: Tommaso D'Argenio</font><a name="a6"></a><br />6     <font color="green">+--+ Author Email: rajasi@ziobudda.net, info@holosoft.it</font><a name="a7"></a><br />7     <font color="green">+--+ Build Date:  January 10 2003 16.18 (CET)</font><a name="a8"></a><br />8     <font color="green">+--+ Update: March 19 2003</font><a name="a9"></a><br />9     <a name="a10"></a><br />10    <font color="green">+--+ DISCLAIMER</font><a name="a11"></a><br />11    <font color="green">Copyright (c) 2002-03 Tommaso D'Argenio &lt;rajasi@ziobudda.net&gt;</font><a name="a12"></a><br />12    <font color="green">This program is free software; you can redistribute it and/or</font><a name="a13"></a><br />13    <font color="green">modify it under the terms of the GNU Lesser General Public License</font><a name="a14"></a><br />14    <font color="green">as published by the Free Software Foundation; either version</font><a name="a15"></a><br />15    <font color="green">2.1 of the License, or (at your option) any later version.</font><a name="a16"></a><br />16    <a name="a17"></a><br />17    <font color="green">This program is distributed in the hope that it will be useful,</font><a name="a18"></a><br />18    <font color="green">but WITHOUT ANY WARRANTY; without even the implied</font><a name="a19"></a><br />19    <font color="green">warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</font><a name="a20"></a><br />20    <font color="green">PURPOSE.  See the GNU Lesser General Public License for more details.</font><a name="a21"></a><br />21    <a name="a22"></a><br />22    <font color="green">You should have received a copy of the GNU Lesser General Public</font><a name="a23"></a><br />23    <font color="green">License along with this program; if not, write to the</font><a name="a24"></a><br />24    <font color="green">Free Software Foundation, Inc.,</font><a name="a25"></a><br />25    <font color="green">59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</font><a name="a26"></a><br />26    <font color="green">http://www.fsf.org</font><a name="a27"></a><br />27    <a name="a28"></a><br />28    <font color="green">+--+ NOTES FROM AUTHOR</font><a name="a29"></a><br />29    <font color="green">* Please, if you make any change in the code let me know by email!!!</font><a name="a30"></a><br />30    <font color="green">   if use this class in your project, please let me know, in this way i can publish it.</font><a name="a31"></a><br />31    <a name="a32"></a><br />32    <font color="green">+--+ Requirements:</font><a name="a33"></a><br />33    <font color="green">		PHP 4.0+</font><a name="a34"></a><br />34    <font color="green">*/</font><a name="a35"></a><br />35    <a name="a36"></a><br />36    <font color="#009999">/**</font><a name="a37"></a><br />37    <font color="#009999">* Class for compute some calculations on date and time</font><a name="a38"></a><br />38    <font color="#009999">*</font><a name="a39"></a><br />39    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@copyright</font></strong><font color="#009999">  2002-2003 Holosoft - Tommaso D'Argenio &lt;rajasi@ziobudda.net&gt;</font><a name="a40"></a><br />40    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@version</font></strong><font color="#009999"> $Id v 0.6 2003/03/19 20.30.00(CET) marms Exp $</font><a name="a41"></a><br />41    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@link</font></strong><font color="#009999"> http://www.holosoft.it/  Holosoft Home Page</font><a name="a42"></a><br />42    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@link</font></strong><font color="#009999"> http://www.phpclasses.org/browse.html/package/943.html KronoClass Home at phpclasses</font><a name="a43"></a><br />43    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@link</font></strong><font color="#009999"> http://freshmeat.net/projects/kronoclass/?topic_id=914 KronoClass Home at freshmeat</font><a name="a44"></a><br />44    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@package</font></strong><font color="#009999"> kronos</font><a name="a45"></a><br />45    <font color="#009999">*/</font><a name="a46"></a><br />46    <font color="blue">class</font> <a href="../kronos/Krono.html">Krono</a><a name="a47"></a><br />47    <strong>{</strong><a name="a48"></a><br />48        <font color="#009999">/** Array that contain the name of days in long format 	*</font><a name="a49"></a><br />49    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a50"></a><br />50    <font color="#009999">	*/</font><a name="a51"></a><br />51        <font color="blue">var</font> <a href="../kronos/Krono.html#var$day_name_ext">$day_name_ext</a>;<a name="a52"></a><br />52        <a name="a53"></a><br />53        <font color="#009999">/** Array that contain the name of days in short format</font><a name="a54"></a><br />54    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a55"></a><br />55    <font color="#009999">	*/</font>    <a name="a56"></a><br />56        <font color="blue">var</font> <a href="../kronos/Krono.html#var$day_name_con">$day_name_con</a>;<a name="a57"></a><br />57        <a name="a58"></a><br />58        <font color="#009999">/** Array that contain the name of month in long format</font><a name="a59"></a><br />59    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a60"></a><br />60    <font color="#009999">	*/</font><a name="a61"></a><br />61        <font color="blue">var</font> <a href="../kronos/Krono.html#var$month_name_ext">$month_name_ext</a>;<a name="a62"></a><br />62        <a name="a63"></a><br />63        <font color="#009999">/** Array that contain the name of month in short format</font><a name="a64"></a><br />64    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a65"></a><br />65    <font color="#009999">	*/</font>    <a name="a66"></a><br />66        <font color="blue">var</font> <a href="../kronos/Krono.html#var$month_name_con">$month_name_con</a>;<a name="a67"></a><br />67    <a name="a68"></a><br />68        <font color="#009999">/** General purpose use</font><a name="a69"></a><br />69    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a70"></a><br />70    <font color="#009999">	*/</font><a name="a71"></a><br />71        <font color="blue">var</font> <a href="../kronos/Krono.html#var$data_from">$data_from</a>;<a name="a72"></a><br />72    <a name="a73"></a><br />73        <font color="#009999">/** General purpose use</font><a name="a74"></a><br />74    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a75"></a><br />75    <font color="#009999">	*/</font>    <a name="a76"></a><br />76        <font color="blue">var</font> <a href="../kronos/Krono.html#var$data_to">$data_to</a>;<a name="a77"></a><br />77        <a name="a78"></a><br />78        <font color="#009999">/** Used for errors</font><a name="a79"></a><br />79    <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a80"></a><br />80    <font color="#009999">	*/</font>    <a name="a81"></a><br />81        <font color="blue">var</font> <a href="../kronos/Krono.html#var$error">$error</a>;<a name="a82"></a><br />82        <a name="a83"></a><br />83        <font color="#009999">/** Variable for choose long or short day names format</font><a name="a84"></a><br />84    <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a85"></a><br />85    <font color="#009999">	*/</font><a name="a86"></a><br />86        <font color="blue">var</font> <a href="../kronos/Krono.html#var$abbr">$abbr</a>;<a name="a87"></a><br />87        <a name="a88"></a><br />88        <font color="#009999">/** Set to desidered language</font><a name="a89"></a><br />89    <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a90"></a><br />90    <font color="#009999">	*/</font><a name="a91"></a><br />91        <font color="blue">var</font> <a href="../kronos/Krono.html#var$lan">$lan</a>; <a name="a92"></a><br />92        <a name="a93"></a><br />93        <font color="#009999">/** Version number</font><a name="a94"></a><br />94    <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a95"></a><br />95    <font color="#009999">	*/</font><a name="a96"></a><br />96        <font color="blue">var</font> <a href="../kronos/Krono.html#var$version">$version</a>=<font color="#66cccc">'0.6'</font>;<a name="a97"></a><br />97        <a name="a98"></a><br />98        <font color="#009999">/**</font><a name="a99"></a><br />99    <font color="#009999">	*	Set to desidered date format</font><a name="a100"></a><br />100   <font color="#009999">	*</font><font color="#009999"> 	</font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a101"></a><br />101   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999"> + possible values:</font><a name="a102"></a><br />102   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999"> + it -&gt; italian (dd-mm-yyyy)</font><a name="a103"></a><br />103   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999"> + en,std -&gt; international (mm-dd-yyyy)</font><a name="a104"></a><br />104   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999"> + ansi -&gt; used in dbase and other source (yyyy-mm-dd)</font><a name="a105"></a><br />105   <font color="#009999">	*/</font><a name="a106"></a><br />106       <font color="blue">var</font> <a href="../kronos/Krono.html#var$date_format">$date_format</a>;<a name="a107"></a><br />107       <a name="a108"></a><br />108       <font color="#009999">/** Char for separating date</font><a name="a109"></a><br />109   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a110"></a><br />110   <font color="#009999">	*/</font><a name="a111"></a><br />111       <font color="blue">var</font> <a href="../kronos/Krono.html#var$separator">$separator</a>;<a name="a112"></a><br />112       <a name="a113"></a><br />113       <font color="#009999">/** Constructor</font><a name="a114"></a><br />114   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a115"></a><br />115   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@see</font></strong><font color="#009999"> Krono::$date_format</font><a name="a116"></a><br />116   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$lan </strong><font color="#009999">The language to use for month/day names</font><a name="a117"></a><br />117   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$date_format </strong><font color="#009999">the format for date</font><a name="a118"></a><br />118   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>char </em><font color="#009999"></font><strong>$separator </strong><font color="#009999">Character to use as date separator</font><a name="a119"></a><br />119   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>void </em><a name="a120"></a><br />120   <font color="#009999">	*/</font><a name="a121"></a><br />121       <font color="blue">function</font> <a href="../kronos/Krono.html#methodKrono">Krono</a><strong>(</strong><strong>$lan</strong>=<font color="#66cccc">'it'</font><strong>,</strong> <strong>$date_format</strong>=<font color="#66cccc">'it'</font><strong>,</strong> <strong>$separator</strong>=<font color="#66cccc">'/'</font><strong>)</strong><a name="a122"></a><br />122       <strong>{</strong><a name="a123"></a><br />123           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_ext">day_name_ext</a>=<a name="a124"></a><br />124           array<strong>(</strong><a name="a125"></a><br />125                   <font color="#66cccc">'it'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Domenica'</font><strong>,</strong><font color="#66cccc">'Lunedì'</font><strong>,</strong><font color="#66cccc">'Martedì'</font><strong>,</strong><font color="#66cccc">'Mercoledì'</font><strong>,</strong><font color="#66cccc">'Giovedì'</font><strong>,</strong><font color="#66cccc">'Venerdì'</font><strong>,</strong><font color="#66cccc">'Sabato'</font><strong>)</strong><strong>,</strong><a name="a126"></a><br />126                   <font color="#66cccc">'en'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Sunday'</font><strong>,</strong><font color="#66cccc">'Monday'</font><strong>,</strong><font color="#66cccc">'Tuesday'</font><strong>,</strong><font color="#66cccc">'Wednesday'</font><strong>,</strong><font color="#66cccc">'Thursday'</font><strong>,</strong><font color="#66cccc">'Friday'</font><strong>,</strong><font color="#66cccc">'Saturday'</font><strong>)</strong><strong>,</strong><a name="a127"></a><br />127                   <font color="#66cccc">'de'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Sonntag'</font><strong>,</strong><font color="#66cccc">'Montag'</font><strong>,</strong><font color="#66cccc">'Dienstag'</font><strong>,</strong><font color="#66cccc">'Mittwoch'</font><strong>,</strong><font color="#66cccc">'Donnerstag'</font><strong>,</strong><font color="#66cccc">'Freitag'</font><strong>,</strong><font color="#66cccc">'Samstag'</font><strong>)</strong><strong>,</strong><a name="a128"></a><br />128                   <font color="#66cccc">'fr'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Dimanche'</font><strong>,</strong><font color="#66cccc">'Lundì'</font><strong>,</strong><font color="#66cccc">'Mardì'</font><strong>,</strong><font color="#66cccc">'Mercredì'</font><strong>,</strong><font color="#66cccc">'Jeudì'</font><strong>,</strong><font color="#66cccc">'Vendredì'</font><strong>,</strong><font color="#66cccc">'Samedì'</font><strong>)</strong><strong>,</strong><a name="a129"></a><br />129                   <font color="#66cccc">'es'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Domingo'</font><strong>,</strong><font color="#66cccc">'Lunes'</font><strong>,</strong><font color="#66cccc">'Martes'</font><strong>,</strong><font color="#66cccc">'Miercole'</font><strong>,</strong><font color="#66cccc">'Jueves'</font><strong>,</strong><font color="#66cccc">'Viernes'</font><strong>,</strong><font color="#66cccc">'Sabado'</font><strong>)</strong><strong>,</strong><a name="a130"></a><br />130                   <font color="#66cccc">'id'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Minggu'</font><strong>,</strong><font color="#66cccc">'Senin'</font><strong>,</strong><font color="#66cccc">'Selasa'</font><strong>,</strong><font color="#66cccc">'Rabu'</font><strong>,</strong><font color="#66cccc">'Kamis'</font><strong>,</strong><font color="#66cccc">'Jumat'</font><strong>,</strong><font color="#66cccc">'Sabtu'</font><strong>)</strong><strong>,</strong> <a name="a131"></a><br />131                   <font color="#66cccc">'no'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Mandag'</font><strong>,</strong><font color="#66cccc">'Tirsdag'</font><strong>,</strong><font color="#66cccc">'Onsdag'</font><strong>,</strong><font color="#66cccc">'Torsdag'</font><strong>,</strong><font color="#66cccc">'Fredag'</font><strong>,</strong><font color="#66cccc">'Lordag'</font><strong>,</strong><font color="#66cccc">'Sondag'</font><strong>)</strong><strong>,</strong><a name="a132"></a><br />132                   <font color="#66cccc">'jp'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Nichiyoubi'</font><strong>,</strong><font color="#66cccc">'Getsuyoubi'</font><strong>,</strong><font color="#66cccc">'Kayoubi'</font><strong>,</strong><font color="#66cccc">'Suiyoubi'</font><strong>,</strong><font color="#66cccc">'Mokuyoubi'</font><strong>,</strong><font color="#66cccc">'Kinyoubi'</font><strong>,</strong><font color="#66cccc">'Douyoubi'</font><strong>)</strong><strong>,</strong><a name="a133"></a><br />133                   <font color="#66cccc">'fi'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Sunnuntaina'</font><strong>,</strong><font color="#66cccc">'Maanantaina'</font><strong>,</strong><font color="#66cccc">'Tiistaina'</font><strong>,</strong><font color="#66cccc">'Keskiviikkona'</font><strong>,</strong><font color="#66cccc">'Torstaina'</font><strong>,</strong><font color="#66cccc">'Perjantaina'</font><strong>,</strong><font color="#66cccc">'Lauantaina'</font><strong>)</strong><strong>,</strong><a name="a134"></a><br />134                   <font color="#66cccc">'nl'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Zondag'</font><strong>,</strong><font color="#66cccc">'Maandag'</font><strong>,</strong><font color="#66cccc">'Dinsdag'</font><strong>,</strong><font color="#66cccc">'Woensdag'</font><strong>,</strong><font color="#66cccc">'Donderdag'</font><strong>,</strong><font color="#66cccc">'Vrijdag'</font><strong>,</strong><font color="#66cccc">'Zaterdag'</font><strong>)</strong><a name="a135"></a><br />135               <strong>)</strong>;<a name="a136"></a><br />136               <a name="a137"></a><br />137               <a name="a138"></a><br />138           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_con">day_name_con</a>=<a name="a139"></a><br />139           array<strong>(</strong><a name="a140"></a><br />140                   <font color="#66cccc">'it'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Dom'</font><strong>,</strong><font color="#66cccc">'Lun'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Mer'</font><strong>,</strong><font color="#66cccc">'Gio'</font><strong>,</strong><font color="#66cccc">'Ven'</font><strong>,</strong><font color="#66cccc">'Sab'</font><strong>)</strong><strong>,</strong><a name="a141"></a><br />141                   <font color="#66cccc">'en'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Sun'</font><strong>,</strong><font color="#66cccc">'Mon'</font><strong>,</strong><font color="#66cccc">'Tue'</font><strong>,</strong><font color="#66cccc">'Wed'</font><strong>,</strong><font color="#66cccc">'Thu'</font><strong>,</strong><font color="#66cccc">'Fri'</font><strong>,</strong><font color="#66cccc">'Sat'</font><strong>)</strong><strong>,</strong><a name="a142"></a><br />142                   <font color="#66cccc">'de'</font>=&gt;array<strong>(</strong><font color="#66cccc">'So'</font><strong>,</strong><font color="#66cccc">'Mo'</font><strong>,</strong><font color="#66cccc">'Di'</font><strong>,</strong><font color="#66cccc">'Mi'</font><strong>,</strong><font color="#66cccc">'Do'</font><strong>,</strong><font color="#66cccc">'Fr'</font><strong>,</strong><font color="#66cccc">'Sa'</font><strong>)</strong><strong>,</strong><a name="a143"></a><br />143                   <font color="#66cccc">'fr'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Dim'</font><strong>,</strong><font color="#66cccc">'Lun'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Mer'</font><strong>,</strong><font color="#66cccc">'Jeu'</font><strong>,</strong><font color="#66cccc">'Ven'</font><strong>,</strong><font color="#66cccc">'Sam'</font><strong>)</strong><strong>,</strong><a name="a144"></a><br />144                   <font color="#66cccc">'es'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Dom'</font><strong>,</strong><font color="#66cccc">'Lun'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Mie'</font><strong>,</strong><font color="#66cccc">'Jue'</font><strong>,</strong><font color="#66cccc">'Vie'</font><strong>,</strong><font color="#66cccc">'Sab'</font><strong>)</strong><strong>,</strong><a name="a145"></a><br />145                   <font color="#66cccc">'id'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Min'</font><strong>,</strong><font color="#66cccc">'Sen'</font><strong>,</strong><font color="#66cccc">'Sel'</font><strong>,</strong><font color="#66cccc">'Rab'</font><strong>,</strong><font color="#66cccc">'Kam'</font><strong>,</strong><font color="#66cccc">'Jum'</font><strong>,</strong><font color="#66cccc">'Sab'</font><strong>)</strong><strong>,</strong><a name="a146"></a><br />146                   <font color="#66cccc">'no'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Man'</font><strong>,</strong><font color="#66cccc">'Tir'</font><strong>,</strong><font color="#66cccc">'Ons'</font><strong>,</strong><font color="#66cccc">'Tor'</font><strong>,</strong><font color="#66cccc">'Fre'</font><strong>,</strong><font color="#66cccc">'Lor'</font><strong>,</strong><font color="#66cccc">'Son'</font><strong>)</strong><strong>,</strong><a name="a147"></a><br />147                   <font color="#66cccc">'jp'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Nic'</font><strong>,</strong><font color="#66cccc">'Get'</font><strong>,</strong><font color="#66cccc">'Kay'</font><strong>,</strong><font color="#66cccc">'Sui'</font><strong>,</strong><font color="#66cccc">'Mok'</font><strong>,</strong><font color="#66cccc">'Kin'</font><strong>,</strong><font color="#66cccc">'Dou'</font><strong>)</strong><strong>,</strong><a name="a148"></a><br />148                   <font color="#66cccc">'fi'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Sun'</font><strong>,</strong><font color="#66cccc">'Maa'</font><strong>,</strong><font color="#66cccc">'Tii'</font><strong>,</strong><font color="#66cccc">'Kes'</font><strong>,</strong><font color="#66cccc">'Tor'</font><strong>,</strong><font color="#66cccc">'Per'</font><strong>,</strong><font color="#66cccc">'Lau'</font><strong>)</strong><strong>,</strong><a name="a149"></a><br />149                   <font color="#66cccc">'nl'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Zo'</font><strong>,</strong><font color="#66cccc">'Ma'</font><strong>,</strong><font color="#66cccc">'Di'</font><strong>,</strong><font color="#66cccc">'Wo'</font><strong>,</strong><font color="#66cccc">'Do'</font><strong>,</strong><font color="#66cccc">'Vr'</font><strong>,</strong><font color="#66cccc">'Za'</font><strong>)</strong><a name="a150"></a><br />150               <strong>)</strong>;<a name="a151"></a><br />151   <a name="a152"></a><br />152           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_ext">month_name_ext</a>=<a name="a153"></a><br />153           array<strong>(</strong><a name="a154"></a><br />154                   <font color="#66cccc">'it'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Gennaio'</font><strong>,</strong><font color="#66cccc">'Febbraio'</font><strong>,</strong><font color="#66cccc">'Marzo'</font><strong>,</strong><font color="#66cccc">'Aprile'</font><strong>,</strong><font color="#66cccc">'Maggio'</font><strong>,</strong><font color="#66cccc">'Giugno'</font><strong>,</strong><font color="#66cccc">'Luglio'</font><strong>,</strong><font color="#66cccc">'Agosto'</font><strong>,</strong><font color="#66cccc">'Settembre'</font><strong>,</strong><font color="#66cccc">'Ottobre'</font><strong>,</strong><font color="#66cccc">'Novembre'</font><strong>,</strong><font color="#66cccc">'Dicembre'</font><strong>)</strong><strong>,</strong><a name="a155"></a><br />155                   <font color="#66cccc">'en'</font>=&gt;array<strong>(</strong><font color="#66cccc">'January'</font><strong>,</strong><font color="#66cccc">'February'</font><strong>,</strong><font color="#66cccc">'March'</font><strong>,</strong><font color="#66cccc">'April'</font><strong>,</strong><font color="#66cccc">'May'</font><strong>,</strong><font color="#66cccc">'June'</font><strong>,</strong><font color="#66cccc">'July'</font><strong>,</strong><font color="#66cccc">'August'</font><strong>,</strong><font color="#66cccc">'September'</font><strong>,</strong><font color="#66cccc">'October'</font><strong>,</strong><font color="#66cccc">'November'</font><strong>,</strong><font color="#66cccc">'December'</font><strong>)</strong><strong>,</strong><a name="a156"></a><br />156                   <font color="#66cccc">'de'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Januar'</font><strong>,</strong><font color="#66cccc">'Februar'</font><strong>,</strong><font color="#66cccc">'Marz'</font><strong>,</strong><font color="#66cccc">'April'</font><strong>,</strong><font color="#66cccc">'Mai'</font><strong>,</strong><font color="#66cccc">'Juni'</font><strong>,</strong><font color="#66cccc">'Juli'</font><strong>,</strong><font color="#66cccc">'August'</font><strong>,</strong><font color="#66cccc">'September'</font><strong>,</strong><font color="#66cccc">'Oktober'</font><strong>,</strong><font color="#66cccc">'November'</font><strong>,</strong><font color="#66cccc">'Dezember'</font><strong>)</strong><strong>,</strong><a name="a157"></a><br />157                   <font color="#66cccc">'fr'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Janvier'</font><strong>,</strong><font color="#66cccc">'Fevrier'</font><strong>,</strong><font color="#66cccc">'Mars'</font><strong>,</strong><font color="#66cccc">'Avril'</font><strong>,</strong><font color="#66cccc">'Mai'</font><strong>,</strong><font color="#66cccc">'Juin'</font><strong>,</strong><font color="#66cccc">'Juillet'</font><strong>,</strong><font color="#66cccc">'Aout'</font><strong>,</strong><font color="#66cccc">'Septembre'</font><strong>,</strong><font color="#66cccc">'Octobre'</font><strong>,</strong><font color="#66cccc">'Novembre'</font><strong>,</strong><font color="#66cccc">'Decembre'</font><strong>)</strong><strong>,</strong><a name="a158"></a><br />158                   <font color="#66cccc">'es'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Enero'</font><strong>,</strong><font color="#66cccc">'Febrero'</font><strong>,</strong><font color="#66cccc">'Marzo'</font><strong>,</strong><font color="#66cccc">'Abril'</font><strong>,</strong><font color="#66cccc">'Mayo'</font><strong>,</strong><font color="#66cccc">'Junio'</font><strong>,</strong><font color="#66cccc">'Julio'</font><strong>,</strong><font color="#66cccc">'Agosto'</font><strong>,</strong><font color="#66cccc">'Septiembre'</font><strong>,</strong><font color="#66cccc">'Octubre'</font><strong>,</strong><font color="#66cccc">'Noviembre'</font><strong>,</strong><font color="#66cccc">'Diciembre'</font><strong>)</strong><strong>,</strong>                <a name="a159"></a><br />159                   <font color="#66cccc">'id'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Januari'</font><strong>,</strong><font color="#66cccc">'Februari'</font><strong>,</strong><font color="#66cccc">'Maret'</font><strong>,</strong><font color="#66cccc">'April'</font><strong>,</strong><font color="#66cccc">'Mei'</font><strong>,</strong><font color="#66cccc">'Juni'</font><strong>,</strong><font color="#66cccc">'Juli'</font><strong>,</strong><font color="#66cccc">'Agustus'</font><strong>,</strong><font color="#66cccc">'September'</font><strong>,</strong><font color="#66cccc">'Oktober'</font><strong>,</strong><font color="#66cccc">'November'</font><strong>,</strong><font color="#66cccc">'Desember'</font><strong>)</strong><strong>,</strong><a name="a160"></a><br />160                   <font color="#66cccc">'no'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Januar'</font><strong>,</strong><font color="#66cccc">'February'</font><strong>,</strong><font color="#66cccc">'Mars'</font><strong>,</strong><font color="#66cccc">'April'</font><strong>,</strong><font color="#66cccc">'Mai'</font><strong>,</strong><font color="#66cccc">'Juni'</font><strong>,</strong><font color="#66cccc">'Juli'</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">'Oktober'</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">'Desember'</font><strong>)</strong><strong>,</strong><a name="a161"></a><br />161                   <font color="#66cccc">'jp'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Ichigatsu'</font><strong>,</strong><font color="#66cccc">'Nigatsu'</font><strong>,</strong><font color="#66cccc">'Sangatsu'</font><strong>,</strong><font color="#66cccc">'Shigatsu'</font><strong>,</strong><font color="#66cccc">'Gogatsu'</font><strong>,</strong><font color="#66cccc">'Rokugatsu'</font><strong>,</strong><font color="#66cccc">'Shicigatsu'</font><strong>,</strong><font color="#66cccc">'Hachigatsu'</font><strong>,</strong><font color="#66cccc">'Kugatsu'</font><strong>,</strong><font color="#66cccc">'Jugatsu'</font><strong>,</strong><font color="#66cccc">'Juichigatsu'</font><strong>,</strong><font color="#66cccc">'Junigatsu'</font><strong>)</strong><strong>,</strong><a name="a162"></a><br />162                   <font color="#66cccc">'fi'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Tammikuun'</font><strong>,</strong><font color="#66cccc">'Helmikuun'</font><strong>,</strong><font color="#66cccc">'Maaliskuun'</font><strong>,</strong><font color="#66cccc">'Huhtikuun'</font><strong>,</strong><font color="#66cccc">'Toukokuun'</font><strong>,</strong><font color="#66cccc">'Kesakuun'</font><strong>,</strong><font color="#66cccc">'Heinakuun'</font><strong>,</strong><font color="#66cccc">'Elokuun'</font><strong>,</strong><font color="#66cccc">'Syyskuun'</font><strong>,</strong><font color="#66cccc">'Lokakuun'</font><strong>,</strong><font color="#66cccc">'Marraskuun'</font><strong>,</strong><font color="#66cccc">'Joulukuun'</font><strong>)</strong><strong>,</strong><a name="a163"></a><br />163                   <font color="#66cccc">'nl'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Januari'</font><strong>,</strong><font color="#66cccc">'Februari'</font><strong>,</strong><font color="#66cccc">'Maart'</font><strong>,</strong><font color="#66cccc">'April'</font><strong>,</strong><font color="#66cccc">'Mei'</font><strong>,</strong><font color="#66cccc">'Juni'</font><strong>,</strong><font color="#66cccc">'Juli'</font><strong>,</strong><font color="#66cccc">'Augustus'</font><strong>,</strong><font color="#66cccc">'September'</font><strong>,</strong><font color="#66cccc">'Oktober'</font><strong>,</strong><font color="#66cccc">'November'</font><strong>,</strong><font color="#66cccc">'December'</font><strong>)</strong><a name="a164"></a><br />164               <strong>)</strong>;<a name="a165"></a><br />165               <a name="a166"></a><br />166           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_con">month_name_con</a>=<a name="a167"></a><br />167           array<strong>(</strong><a name="a168"></a><br />168                   <font color="#66cccc">'it'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Gen'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'Mag'</font><strong>,</strong><font color="#66cccc">'Giu'</font><strong>,</strong><font color="#66cccc">'Lug'</font><strong>,</strong><font color="#66cccc">'Ago'</font><strong>,</strong><font color="#66cccc">'Set'</font><strong>,</strong><font color="#66cccc">'Ott'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dic'</font><strong>)</strong><strong>,</strong><a name="a169"></a><br />169                   <font color="#66cccc">'en'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'May'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Aug'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Oct'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dec'</font><strong>)</strong><strong>,</strong><a name="a170"></a><br />170                   <font color="#66cccc">'de'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'Mag'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Aug'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Okt'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dez'</font><strong>)</strong><strong>,</strong><a name="a171"></a><br />171                   <font color="#66cccc">'fr'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Fev'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Avr'</font><strong>,</strong><font color="#66cccc">'Mai'</font><strong>,</strong><font color="#66cccc">'Jui'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Aou'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Oct'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dec'</font><strong>)</strong><strong>,</strong><a name="a172"></a><br />172                   <font color="#66cccc">'es'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Ene'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Abr'</font><strong>,</strong><font color="#66cccc">'May'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Ago'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Oct'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dic'</font><strong>)</strong><strong>,</strong><a name="a173"></a><br />173                   <font color="#66cccc">'id'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'Mei'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Agu'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Okt'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Des'</font><strong>)</strong><strong>,</strong><a name="a174"></a><br />174                   <font color="#66cccc">'no'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'Mai'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">'Okt'</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><font color="#66cccc">'Des'</font><strong>)</strong><strong>,</strong><a name="a175"></a><br />175                   <font color="#66cccc">'jp'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Ich'</font><strong>,</strong><font color="#66cccc">'Nig'</font><strong>,</strong><font color="#66cccc">'San'</font><strong>,</strong><font color="#66cccc">'Shi'</font><strong>,</strong><font color="#66cccc">'Gog'</font><strong>,</strong><font color="#66cccc">'Rok'</font><strong>,</strong><font color="#66cccc">'Shi'</font><strong>,</strong><font color="#66cccc">'Hac'</font><strong>,</strong><font color="#66cccc">'Kug'</font><strong>,</strong><font color="#66cccc">'Jug'</font><strong>,</strong><font color="#66cccc">'Jui'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>)</strong><strong>,</strong><a name="a176"></a><br />176                   <font color="#66cccc">'fi'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Tam'</font><strong>,</strong><font color="#66cccc">'Hel'</font><strong>,</strong><font color="#66cccc">'Maa'</font><strong>,</strong><font color="#66cccc">'Huh'</font><strong>,</strong><font color="#66cccc">'Tou'</font><strong>,</strong><font color="#66cccc">'Kes'</font><strong>,</strong><font color="#66cccc">'Hei'</font><strong>,</strong><font color="#66cccc">'Elo'</font><strong>,</strong><font color="#66cccc">'Syy'</font><strong>,</strong><font color="#66cccc">'Lok'</font><strong>,</strong><font color="#66cccc">'Mar'</font><strong>,</strong><font color="#66cccc">'Jou'</font><strong>)</strong><strong>,</strong><a name="a177"></a><br />177                   <font color="#66cccc">'nl'</font>=&gt;array<strong>(</strong><font color="#66cccc">'Jan'</font><strong>,</strong><font color="#66cccc">'Feb'</font><strong>,</strong><font color="#66cccc">'Mrt'</font><strong>,</strong><font color="#66cccc">'Apr'</font><strong>,</strong><font color="#66cccc">'Mei'</font><strong>,</strong><font color="#66cccc">'Jun'</font><strong>,</strong><font color="#66cccc">'Jul'</font><strong>,</strong><font color="#66cccc">'Aug'</font><strong>,</strong><font color="#66cccc">'Sep'</font><strong>,</strong><font color="#66cccc">'Okt'</font><strong>,</strong><font color="#66cccc">'Nov'</font><strong>,</strong><font color="#66cccc">'Dec'</font><strong>)</strong><a name="a178"></a><br />178               <strong>)</strong>;<a name="a179"></a><br />179   <a name="a180"></a><br />180           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a>=<strong>$lan</strong>;<a name="a181"></a><br />181           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$date_format">date_format</a>=<strong>$date_format</strong>;<a name="a182"></a><br />182           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>=<strong>$separator</strong>;<a name="a183"></a><br />183       <strong>}</strong><a name="a184"></a><br />184       <a name="a185"></a><br />185       <font color="#009999">/** Function that exit with the error message if given</font><a name="a186"></a><br />186   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a187"></a><br />187   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>void </em><a name="a188"></a><br />188   <font color="#009999">	*/</font><a name="a189"></a><br />189       <font color="blue">function</font> <a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong><a name="a190"></a><br />190       <strong>{</strong><a name="a191"></a><br />191           <font color="blue">if</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>!=<font color="#66cccc">''</font><strong>)</strong><a name="a192"></a><br />192               echo <font color="#66cccc">' [Fatal Error] &lt;b&gt;'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>.<font color="#66cccc">'&lt;/b&gt; '</font>;<a name="a193"></a><br />193           exit;<a name="a194"></a><br />194       <strong>}</strong><a name="a195"></a><br />195       <a name="a196"></a><br />196       <font color="#009999">/** Return the last modified date of class file</font><a name="a197"></a><br />197   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a198"></a><br />198   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The formatted date of this file last modified field</font><a name="a199"></a><br />199   <font color="#009999">	*/</font><a name="a200"></a><br />200       <font color="blue">function</font> <a href="../kronos/Krono.html#method_update">_update</a><strong>(</strong><strong>)</strong><a name="a201"></a><br />201       <strong>{</strong><a name="a202"></a><br />202           <strong>$s</strong>=<a href="http://www.php.net/stat">stat</a><strong>(</strong>__FILE__<strong>)</strong>;<a name="a203"></a><br />203           <font color="blue">return</font> <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_date">k_date</a><strong>(</strong><font color="#66cccc">'%l %d %F %Y'</font><strong>,</strong><strong>$s</strong><strong>[</strong>9<strong>]</strong><strong>)</strong>;<a name="a204"></a><br />204       <strong>}</strong><a name="a205"></a><br />205       <a name="a206"></a><br />206       <font color="#009999">/** Return the format string for date function according to date_format parameter and separator</font><a name="a207"></a><br />207   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a208"></a><br />208   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><a name="a209"></a><br />209   <font color="#009999">	*/</font><a name="a210"></a><br />210       <font color="blue">function</font> <a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><a name="a211"></a><br />211       <strong>{</strong><a name="a212"></a><br />212           <font color="blue">switch</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$date_format">date_format</a><strong>)</strong><a name="a213"></a><br />213           <strong>{</strong><a name="a214"></a><br />214               case <font color="#66cccc">'ansi'</font>: <a name="a215"></a><br />215                   <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a><strong>)</strong> <a name="a216"></a><br />216                       <font color="blue">return</font> <font color="#66cccc">'Y'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'m'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'d'</font>; <a name="a217"></a><br />217                   else <a name="a218"></a><br />218                       <font color="blue">return</font> <font color="#66cccc">'Y'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'n'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'j'</font>; <a name="a219"></a><br />219               break;<a name="a220"></a><br />220               case <font color="#66cccc">'it'</font>: <a name="a221"></a><br />221                   <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a><strong>)</strong><a name="a222"></a><br />222                       <font color="blue">return</font> <font color="#66cccc">'d'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'m'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'Y'</font>;<a name="a223"></a><br />223                   else<a name="a224"></a><br />224                       <font color="blue">return</font> <font color="#66cccc">'j'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'n'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'Y'</font>;<a name="a225"></a><br />225               break; <a name="a226"></a><br />226               case <font color="#66cccc">'en'</font>: <a name="a227"></a><br />227               case <font color="#66cccc">'std'</font>: <a name="a228"></a><br />228                   <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a><strong>)</strong><a name="a229"></a><br />229                       <font color="blue">return</font> <font color="#66cccc">'m'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'d'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'Y'</font>;<a name="a230"></a><br />230                   else <a name="a231"></a><br />231                       <font color="blue">return</font> <font color="#66cccc">'n'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'j'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'Y'</font>;<a name="a232"></a><br />232               break;        <a name="a233"></a><br />233               default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Date Format not recognized, must be &quot;ansi&quot;, &quot;it&quot;, &quot;std&quot; or &quot;en&quot; !! '</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;            <a name="a234"></a><br />234           <strong>}</strong><a name="a235"></a><br />235       <strong>}</strong><a name="a236"></a><br />236       <a name="a237"></a><br />237       <font color="#009999">/**</font><a name="a238"></a><br />238   <font color="#009999">	*  Return the literal name of language code</font><a name="a239"></a><br />239   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a240"></a><br />240   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The long name of language format</font><a name="a241"></a><br />241   <font color="#009999">	*/</font><a name="a242"></a><br />242       <font color="blue">function</font> <a href="../kronos/Krono.html#method_language">_language</a><strong>(</strong><strong>)</strong><a name="a243"></a><br />243       <strong>{</strong><a name="a244"></a><br />244           <font color="blue">switch</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>)</strong><a name="a245"></a><br />245           <strong>{</strong><a name="a246"></a><br />246               case <font color="#66cccc">'it'</font>: <font color="blue">return</font> <font color="#66cccc">'Italian'</font>; break;<a name="a247"></a><br />247               case <font color="#66cccc">'en'</font>: <font color="blue">return</font> <font color="#66cccc">'English'</font>; break;<a name="a248"></a><br />248               case <font color="#66cccc">'de'</font>: <font color="blue">return</font> <font color="#66cccc">'Deutch'</font>; break;<a name="a249"></a><br />249               case <font color="#66cccc">'fr'</font>: <font color="blue">return</font> <font color="#66cccc">'French'</font>; break;<a name="a250"></a><br />250               case <font color="#66cccc">'es'</font>: <font color="blue">return</font> <font color="#66cccc">'Spanish'</font>; break;<a name="a251"></a><br />251               case <font color="#66cccc">'id'</font>: <font color="blue">return</font> <font color="#66cccc">'Indonesian'</font>; break;<a name="a252"></a><br />252               case <font color="#66cccc">'no'</font>: <font color="blue">return</font> <font color="#66cccc">'Norway'</font>; break;<a name="a253"></a><br />253               case <font color="#66cccc">'jp'</font>: <font color="blue">return</font> <font color="#66cccc">'Japanese'</font>; break;<a name="a254"></a><br />254               case <font color="#66cccc">'fi'</font>: <font color="blue">return</font> <font color="#66cccc">'Finnish'</font>; break;<a name="a255"></a><br />255               default: <font color="blue">return</font> <font color="#66cccc">'Language not recognized!!'</font>; <a name="a256"></a><br />256           <strong>}</strong><a name="a257"></a><br />257       <strong>}</strong><a name="a258"></a><br />258       <a name="a259"></a><br />259       <font color="#009999">/** Print out some debug information</font><a name="a260"></a><br />260   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color="#009999">@access:</font></strong><font color="#009999"> private</font><a name="a261"></a><br />261   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>void </em><a name="a262"></a><br />262   <font color="#009999">	*/</font><a name="a263"></a><br />263       <font color="blue">function</font> <a href="../kronos/Krono.html#method_debug">_debug</a><strong>(</strong><strong>)</strong><a name="a264"></a><br />264       <strong>{</strong><a name="a265"></a><br />265           echo <font color="#66cccc">'&lt;span style=&quot;font-family:helvetica,verdana,serif;font-size:12px;color:darkgray;&quot;&gt;</font><a name="a266"></a><br />266   <font color="#66cccc">					&lt;b&gt;Debug Information&lt;/b&gt;&lt;br&gt;</font><a name="a267"></a><br />267   <font color="#66cccc">					Format of Date: &lt;i&gt;'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong>.<font color="#66cccc">'&lt;/i&gt;&lt;br&gt;</font><a name="a268"></a><br />268   <font color="#66cccc">					Date Separator: &lt;i&gt;'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'&lt;/i&gt;&lt;br&gt;</font><a name="a269"></a><br />269   <font color="#66cccc">					Language: &lt;i&gt;'</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_language">_language</a><strong>(</strong><strong>)</strong>.<font color="#66cccc">'&lt;/i&gt;</font><a name="a270"></a><br />270   <font color="#66cccc">		  			&lt;/span&gt;</font><a name="a271"></a><br />271   <font color="#66cccc">					&lt;br&gt;&lt;hr size=&quot;1px&quot; width=&quot;50%&quot; color=&quot;black&quot; align=&quot;left&quot;&gt;&lt;br&gt;</font><a name="a272"></a><br />272   <font color="#66cccc">					'</font>;<a name="a273"></a><br />273       <strong>}</strong><a name="a274"></a><br />274       <font color="#009999">/** Print out a disclaimer</font><a name="a275"></a><br />275   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a276"></a><br />276   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>void </em><a name="a277"></a><br />277   <font color="#009999">	*/</font><a name="a278"></a><br />278       <font color="blue">function</font> <a href="../kronos/Krono.html#method_disclaimer">_disclaimer</a><strong>(</strong><strong>)</strong><a name="a279"></a><br />279       <strong>{</strong><a name="a280"></a><br />280           echo <font color="#66cccc">'&lt;span style=&quot;font-family:helvetica,verdana,serif;font-size:14px;color:#ff9900;&quot;&gt;'</font>;<a name="a281"></a><br />281           echo <font color="#66cccc">'&lt;b&gt;KronoClass&lt;/b&gt; v. '</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$version">version</a>.<font color="#66cccc">' &lt;br&gt;'</font>;<a name="a282"></a><br />282           echo <font color="#66cccc">'&lt;i&gt;Copyright (c) 2002-2003 by Tommaso D\'Argenio &amp;lt;&lt;a href=&quot;mailto:rajasi@ziobudda.net&quot; title=&quot;Send me an email&quot;&gt;rajasi@ziobudda.net&lt;/a&gt;&amp;gt;&lt;br&gt;'</font>;<a name="a283"></a><br />283           echo <font color="#66cccc">'Last modified on: '</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_update">_update</a><strong>(</strong><strong>)</strong>.<font color="#66cccc">'&lt;/i&gt;&lt;br&gt;&lt;hr size=&quot;1px&quot; width=&quot;50%&quot; color=&quot;black&quot; align=&quot;left&quot;&gt;&lt;/span&gt;&lt;br&gt;'</font>;<a name="a284"></a><br />284       <strong>}</strong><a name="a285"></a><br />285       <a name="a286"></a><br />286       <font color="#009999">/** Return if a given time is daylight saving or not</font><a name="a287"></a><br />287   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a288"></a><br />288   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><font color="#009999">1 if time is daylight saving 0 otherwise.</font><a name="a289"></a><br />289   <font color="#009999">	*/</font><a name="a290"></a><br />290       <font color="blue">function</font> <a href="../kronos/Krono.html#method_is_daylight">_is_daylight</a><strong>(</strong><strong>$time</strong><strong>)</strong><a name="a291"></a><br />291       <strong>{</strong><a name="a292"></a><br />292           list<strong>(</strong><strong>$dom</strong><strong>,</strong> <strong>$dow</strong><strong>,</strong> <strong>$month</strong><strong>,</strong> <strong>$hour</strong><strong>,</strong> <strong>$min</strong><strong>)</strong> = <a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;:&quot;</font><strong>,</strong> <a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">&quot;d:w:m:H:i&quot;</font><strong>,</strong> <strong>$time</strong><strong>)</strong><strong>)</strong>; <a name="a293"></a><br />293           <a name="a294"></a><br />294           <font color="blue">if</font>   <strong>(</strong><strong>$month</strong> &gt; 4 &amp;&amp; <strong>$month</strong> &lt; 10<strong>)</strong> <a name="a295"></a><br />295           <strong>{</strong> <a name="a296"></a><br />296             <strong>$retval</strong> = 1;        <font color="green"># May thru September </font><a name="a297"></a><br />297           <strong>}</strong> <a name="a298"></a><br />298           elseif <strong>(</strong><strong>$month</strong> == 4 &amp;&amp; <strong>$dom</strong> &gt; 7<strong>)</strong> <a name="a299"></a><br />299           <strong>{</strong> <a name="a300"></a><br />300             <strong>$retval</strong> = 1;        <font color="green"># After first week in April </font><a name="a301"></a><br />301           <strong>}</strong> <a name="a302"></a><br />302           elseif <strong>(</strong><strong>$month</strong> == 4 &amp;&amp; <strong>$dom</strong> &lt;= 7 &amp;&amp; <strong>$dow</strong> == 0 &amp;&amp; <strong>$hour</strong> &gt;= 2<strong>)</strong> <a name="a303"></a><br />303           <strong>{</strong> <a name="a304"></a><br />304             <strong>$retval</strong> = 1;        <font color="green"># After 2am on first Sunday ($dow=0) in April </font><a name="a305"></a><br />305           <strong>}</strong> <a name="a306"></a><br />306           elseif <strong>(</strong><strong>$month</strong> == 4 &amp;&amp; <strong>$dom</strong> &lt;= 7 &amp;&amp; <strong>$dow</strong> != 0 &amp;&amp; <strong>(</strong><strong>$dom</strong>-<strong>$dow</strong> &gt; 0<strong>)</strong><strong>)</strong> <a name="a307"></a><br />307           <strong>{</strong> <a name="a308"></a><br />308             <strong>$retval</strong> = 1;        <font color="green"># After Sunday of first week in April </font><a name="a309"></a><br />309           <strong>}</strong> <a name="a310"></a><br />310           elseif <strong>(</strong><strong>$month</strong> == 10 &amp;&amp; <strong>$dom</strong> &lt; 25<strong>)</strong> <a name="a311"></a><br />311           <strong>{</strong> <a name="a312"></a><br />312             <strong>$retval</strong> = 1;        <font color="green"># Before last week of October </font><a name="a313"></a><br />313           <strong>}</strong> <a name="a314"></a><br />314           elseif <strong>(</strong><strong>$month</strong> == 10 &amp;&amp; <strong>$dom</strong> &gt;= 25 &amp;&amp; <strong>$dow</strong> == 0 &amp;&amp; <strong>$hour</strong> &lt; 2<strong>)</strong> <a name="a315"></a><br />315           <strong>{</strong> <a name="a316"></a><br />316             <strong>$retval</strong> = 1;        <font color="green"># Before 2am on last Sunday in October </font><a name="a317"></a><br />317           <strong>}</strong> <a name="a318"></a><br />318           elseif <strong>(</strong><strong>$month</strong> == 10 &amp;&amp; <strong>$dom</strong> &gt;= 25 &amp;&amp; <strong>$dow</strong> != 0 &amp;&amp; <strong>(</strong><strong>$dom</strong>-24-<strong>$dow</strong> &lt; 1<strong>)</strong> <strong>)</strong> <a name="a319"></a><br />319           <strong>{</strong> <a name="a320"></a><br />320             <strong>$retval</strong> = 1;        <font color="green"># Before Sunday of last week in October </font><a name="a321"></a><br />321           <strong>}</strong> <a name="a322"></a><br />322           else <a name="a323"></a><br />323           <strong>{</strong> <a name="a324"></a><br />324             <strong>$retval</strong> = 0; <a name="a325"></a><br />325           <strong>}</strong> <a name="a326"></a><br />326           <a name="a327"></a><br />327           <font color="blue">return</font><strong>(</strong><strong>$retval</strong><strong>)</strong>;     <a name="a328"></a><br />328       <strong>}</strong><a name="a329"></a><br />329       <a name="a330"></a><br />330       <a name="a331"></a><br />331       <font color="#009999">/** Convert the name of a day in its numerical value.</font><a name="a332"></a><br />332   <font color="#009999">	*    + i.e.: Monday stay for 0, Saturday stay for 6</font><a name="a333"></a><br />333   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a334"></a><br />334   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$day </strong><font color="#009999">The name of day, short or long.</font><a name="a335"></a><br />335   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><font color="#009999">the number of day</font><a name="a336"></a><br />336   <font color="#009999">	*/</font><a name="a337"></a><br />337       <font color="blue">function</font> <a href="../kronos/Krono.html#methodday_to_n">day_to_n</a><strong>(</strong><strong>$day</strong><strong>)</strong><a name="a338"></a><br />338       <strong>{</strong><a name="a339"></a><br />339           <font color="blue">if</font><strong>(</strong><strong>$day</strong>==<font color="#66cccc">''</font> || <a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$day</strong><strong>)</strong>&lt;3<strong>)</strong><a name="a340"></a><br />340           <strong>{</strong><a name="a341"></a><br />341               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Day name not valid!'</font>;<a name="a342"></a><br />342               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;            <a name="a343"></a><br />343           <strong>}</strong><a name="a344"></a><br />344           <a name="a345"></a><br />345           <strong>$day</strong>=<a href="http://www.php.net/ucwords">ucwords</a><strong>(</strong><strong>$day</strong><strong>)</strong>;        <a name="a346"></a><br />346           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$day</strong><strong>)</strong>==3<strong>)</strong><a name="a347"></a><br />347               <strong>$ar</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_con">day_name_con</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong>;<a name="a348"></a><br />348           else<a name="a349"></a><br />349               <strong>$ar</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_ext">day_name_ext</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong>;<a name="a350"></a><br />350               <a name="a351"></a><br />351           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/in_array">in_array</a><strong>(</strong><strong>$day</strong><strong>,</strong><strong>$ar</strong><strong>)</strong><strong>)</strong><a name="a352"></a><br />352           <strong>{</strong><a name="a353"></a><br />353               <strong>$k</strong>=<a href="http://www.php.net/array_keys">array_keys</a><strong>(</strong><strong>$ar</strong><strong>,</strong><strong>$day</strong><strong>)</strong>;<a name="a354"></a><br />354               <font color="blue">return</font><strong>(</strong><strong>$k</strong><strong>[</strong>0<strong>]</strong><strong>)</strong>;<a name="a355"></a><br />355           <strong>}</strong><a name="a356"></a><br />356       <strong>}</strong><a name="a357"></a><br />357       <a name="a358"></a><br />358       <font color="#009999">/** Convert the numerical value of a day in its name for the setted language by constructor.</font><a name="a359"></a><br />359   <font color="#009999">	*    + Short o long format is choosed by setting the abbr value to true o false</font><a name="a360"></a><br />360   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a361"></a><br />361   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><strong>$day </strong><font color="#009999">The number of day, 0 stay for Sunday and 6 for Saturday</font><a name="a362"></a><br />362   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">the name of day in language setted by constructor</font><a name="a363"></a><br />363   <font color="#009999">	*/</font><a name="a364"></a><br />364       <font color="blue">function</font> <a href="../kronos/Krono.html#methodn_to_day">n_to_day</a><strong>(</strong><strong>$day</strong><strong>)</strong><a name="a365"></a><br />365       <strong>{</strong><a name="a366"></a><br />366           <font color="blue">if</font><strong>(</strong><strong>$day</strong>&gt;6 || <strong>$day</strong>&lt;0<strong>)</strong><a name="a367"></a><br />367           <strong>{</strong><a name="a368"></a><br />368               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Day range not valid. Must be 0 to 6!'</font>;<a name="a369"></a><br />369               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a370"></a><br />370           <strong>}</strong><a name="a371"></a><br />371           <a name="a372"></a><br />372           <font color="blue">if</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>===true<strong>)</strong><a name="a373"></a><br />373               <font color="blue">return</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_con">day_name_con</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong><strong>[</strong><strong>$day</strong><strong>]</strong><strong>)</strong>;<a name="a374"></a><br />374           elseif<strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>!=true<strong>)</strong><a name="a375"></a><br />375               <font color="blue">return</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$day_name_ext">day_name_ext</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong><strong>[</strong><strong>$day</strong><strong>]</strong><strong>)</strong>;<a name="a376"></a><br />376       <strong>}</strong><a name="a377"></a><br />377       <a name="a378"></a><br />378       <font color="#009999">/** Convert the name of a month in its numerical value.</font><a name="a379"></a><br />379   <font color="#009999">	*    + i.e.: February stay for 2, December stay for 12</font><a name="a380"></a><br />380   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a381"></a><br />381   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$month </strong><font color="#009999">The name of month, short or long format, in language setted by constructor</font><a name="a382"></a><br />382   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><font color="#009999">The number rappresenting the month</font><a name="a383"></a><br />383   <font color="#009999">	*/</font><a name="a384"></a><br />384       <font color="blue">function</font> <a href="../kronos/Krono.html#methodmonth_to_n">month_to_n</a><strong>(</strong><strong>$month</strong><strong>)</strong><a name="a385"></a><br />385       <strong>{</strong><a name="a386"></a><br />386           <font color="blue">if</font><strong>(</strong><strong>$month</strong>==<font color="#66cccc">''</font> || <a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$month</strong><strong>)</strong>&lt;3<strong>)</strong><a name="a387"></a><br />387           <strong>{</strong><a name="a388"></a><br />388               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Month name not valid!'</font>;<a name="a389"></a><br />389               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;            <a name="a390"></a><br />390           <strong>}</strong><a name="a391"></a><br />391           <a name="a392"></a><br />392           <strong>$month</strong>=<a href="http://www.php.net/ucwords">ucwords</a><strong>(</strong><strong>$month</strong><strong>)</strong>;        <a name="a393"></a><br />393           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$month</strong><strong>)</strong>==3<strong>)</strong><a name="a394"></a><br />394               <strong>$ar</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_con">month_name_con</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong>;<a name="a395"></a><br />395           else<a name="a396"></a><br />396               <strong>$ar</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_ext">month_name_ext</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong>;<a name="a397"></a><br />397               <a name="a398"></a><br />398           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/in_array">in_array</a><strong>(</strong><strong>$month</strong><strong>,</strong><strong>$ar</strong><strong>)</strong><strong>)</strong><a name="a399"></a><br />399           <strong>{</strong><a name="a400"></a><br />400               <strong>$k</strong>=<a href="http://www.php.net/array_search">array_search</a><strong>(</strong><strong>$month</strong><strong>,</strong><strong>$ar</strong><strong>)</strong>;<a name="a401"></a><br />401               <font color="blue">return</font><strong>(</strong><strong>$k</strong>+1<strong>)</strong>;<a name="a402"></a><br />402           <strong>}</strong><a name="a403"></a><br />403           else<a name="a404"></a><br />404               <font color="blue">return</font> -1;<a name="a405"></a><br />405       <strong>}</strong><a name="a406"></a><br />406       <a name="a407"></a><br />407       <font color="#009999">/** Convert the numerical value of a month in its name.</font><a name="a408"></a><br />408   <font color="#009999">	*    + Short o long format is choosed by setting the abbr value to true o false</font><a name="a409"></a><br />409   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a410"></a><br />410   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$month </strong><font color="#009999">The number of month</font><a name="a411"></a><br />411   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The name of month in language setted by constructor</font><a name="a412"></a><br />412   <font color="#009999">	*/</font><a name="a413"></a><br />413       <font color="blue">function</font> <a href="../kronos/Krono.html#methodn_to_month">n_to_month</a><strong>(</strong><strong>$month</strong><strong>)</strong><a name="a414"></a><br />414       <strong>{</strong><a name="a415"></a><br />415           <font color="blue">if</font><strong>(</strong><strong>$month</strong>&gt;12 || <strong>$month</strong>&lt;1<strong>)</strong><a name="a416"></a><br />416           <strong>{</strong><a name="a417"></a><br />417               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Month range not valid. Must be 1 to 12!'</font>;<a name="a418"></a><br />418               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a419"></a><br />419           <strong>}</strong><a name="a420"></a><br />420   <a name="a421"></a><br />421           <font color="blue">if</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>===true<strong>)</strong><a name="a422"></a><br />422               <font color="blue">return</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_con">month_name_con</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong><strong>[</strong><strong>$month</strong>-1<strong>]</strong><strong>)</strong>;<a name="a423"></a><br />423           elseif<strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>!=true<strong>)</strong><a name="a424"></a><br />424               <font color="blue">return</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$month_name_ext">month_name_ext</a><strong>[</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$lan">lan</a><strong>]</strong><strong>[</strong><strong>$month</strong>-1<strong>]</strong><strong>)</strong>;<a name="a425"></a><br />425       <strong>}</strong><a name="a426"></a><br />426   <a name="a427"></a><br />427   <a name="a428"></a><br />428       <font color="#009999">/** Define if the day of date given is equal to day given.</font><a name="a429"></a><br />429   <font color="#009999">	*    + Is Friday the 22nd of November 2002 ?</font><a name="a430"></a><br />430   <font color="#009999">	*    + date according to date_format parameter passed on inizialization</font><a name="a431"></a><br />431   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a432"></a><br />432   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><strong>$data </strong><font color="#009999">The date to check</font><a name="a433"></a><br />433   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$day </strong><font color="#009999">The name of day to check</font><a name="a434"></a><br />434   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>mixed </em><font color="#009999"></font><font color="#009999">1 if check is true, otherwise the day of date</font><a name="a435"></a><br />435   <font color="#009999">	*/</font><a name="a436"></a><br />436       <font color="blue">function</font> <a href="../kronos/Krono.html#methodis_day">is_day</a><strong>(</strong><strong>$data</strong><strong>,</strong><strong>$day</strong><strong>)</strong><a name="a437"></a><br />437       <strong>{</strong><a name="a438"></a><br />438           <strong>$data</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'-'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a439"></a><br />439           <strong>$data</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a440"></a><br />440           <strong>$exp</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a441"></a><br />441           <a name="a442"></a><br />442           <strong>$data_unix</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp</strong><strong>)</strong>;<a name="a443"></a><br />443           <strong>$giorno_unix</strong>=<a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'w'</font><strong>,</strong><strong>$data_unix</strong><strong>)</strong>;<a name="a444"></a><br />444       <a name="a445"></a><br />445           <font color="blue">if</font><strong>(</strong><strong>!</strong><a href="http://www.php.net/is_numeric">is_numeric</a><strong>(</strong><strong>$day</strong><strong>)</strong><strong>)</strong><a name="a446"></a><br />446           <strong>{</strong><a name="a447"></a><br />447               <strong>$day</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodday_to_n">day_to_n</a><strong>(</strong><strong>$day</strong><strong>)</strong>;        <a name="a448"></a><br />448           <strong>}</strong><a name="a449"></a><br />449       <a name="a450"></a><br />450           <font color="blue">if</font><strong>(</strong><strong>$giorno_unix</strong>==<strong>$day</strong><strong>)</strong><a name="a451"></a><br />451               <font color="blue">return</font> 1;<a name="a452"></a><br />452           else<a name="a453"></a><br />453               <font color="blue">return</font> <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodn_to_day">n_to_day</a><strong>(</strong><strong>$giorno_unix</strong><strong>)</strong>;    <a name="a454"></a><br />454       <strong>}</strong><a name="a455"></a><br />455   <a name="a456"></a><br />456       <font color="#009999">/** Trasform a classical date format in unix timestamp format.</font><a name="a457"></a><br />457   <font color="#009999">	*    + date according to date_format parameter passed on inizialization</font><a name="a458"></a><br />458   <font color="#009999">	*    + Remember that unix timestamp is the amount of seconds since 1/1/1970</font><a name="a459"></a><br />459   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a460"></a><br />460   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><strong>$date </strong><font color="#009999">The date to transform</font><a name="a461"></a><br />461   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>timestamp </em><font color="#009999"></font><font color="#009999">The date transformed in timestamp</font><a name="a462"></a><br />462   <font color="#009999">	*/</font><a name="a463"></a><br />463       <font color="blue">function</font> <a href="../kronos/Krono.html#methoddate_to_timestamp">date_to_timestamp</a><strong>(</strong><strong>$date</strong><strong>)</strong><a name="a464"></a><br />464       <strong>{</strong><a name="a465"></a><br />465           <strong>$date</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'-'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$date</strong><strong>)</strong>;<a name="a466"></a><br />466           <strong>$date</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$date</strong><strong>)</strong>;<a name="a467"></a><br />467           <strong>$exp</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$date</strong><strong>)</strong>;<a name="a468"></a><br />468           <font color="blue">return</font> <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp</strong><strong>)</strong>;<a name="a469"></a><br />469       <strong>}</strong><a name="a470"></a><br />470       <a name="a471"></a><br />471       <font color="#009999">/** Define what's the day difference between two given date.</font><a name="a472"></a><br />472   <font color="#009999">	*    + date according to date_format parameter passed on inizialization</font><a name="a473"></a><br />473   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a474"></a><br />474   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><strong>$data_ini </strong><font color="#009999">The start date</font><a name="a475"></a><br />475   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><strong>$data_fin </strong><font color="#009999">The end date</font><a name="a476"></a><br />476   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><font color="#009999">The difference in days between the two given dates</font><a name="a477"></a><br />477   <font color="#009999">	*/</font><a name="a478"></a><br />478       <font color="blue">function</font> <a href="../kronos/Krono.html#methoddays_diff">days_diff</a><strong>(</strong><strong>$data_ini</strong><strong>,</strong><strong>$data_fin</strong><strong>)</strong><a name="a479"></a><br />479       <strong>{</strong><a name="a480"></a><br />480           <strong>$data_ini</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'-'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_ini</strong><strong>)</strong>;<a name="a481"></a><br />481           <strong>$data_ini</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_ini</strong><strong>)</strong>;<a name="a482"></a><br />482           <strong>$data_fin</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'-'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_fin</strong><strong>)</strong>;<a name="a483"></a><br />483           <strong>$data_fin</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_fin</strong><strong>)</strong>;<a name="a484"></a><br />484           <a name="a485"></a><br />485           <strong>$exp_ini</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_ini</strong><strong>)</strong>;<a name="a486"></a><br />486           <strong>$exp_fin</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data_fin</strong><strong>)</strong>;<a name="a487"></a><br />487           <a name="a488"></a><br />488           <strong>$ini</strong>=<a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'z'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp_ini</strong><strong>)</strong><strong>)</strong>;<a name="a489"></a><br />489           <strong>$fin</strong>=<a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'z'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp_fin</strong><strong>)</strong><strong>)</strong>;<a name="a490"></a><br />490   <a name="a491"></a><br />491           <strong>$days</strong> = <a href="http://www.php.net/floor">floor</a><strong>(</strong><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp_fin</strong><strong>)</strong>-<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp_ini</strong><strong>)</strong><strong>)</strong>/<strong>(</strong>60*60*24<strong>)</strong><strong>)</strong>;        <a name="a492"></a><br />492           <font color="blue">return</font> <strong>$days</strong>;<a name="a493"></a><br />493       <strong>}</strong><a name="a494"></a><br />494   <a name="a495"></a><br />495       <font color="#009999">/** </font><a name="a496"></a><br />496   <font color="#009999">	*	Give the difference between two times.</font><a name="a497"></a><br />497   <font color="#009999">	*	+ (i.e.: how minutes from 4.50 to 12.50?).</font><a name="a498"></a><br />498   <font color="#009999">	*	+ Accept only 24H format.</font><a name="a499"></a><br />499   <font color="#009999">	*	+ the time is a string like: &quot;4.50&quot; or &quot;4:50&quot;</font><a name="a500"></a><br />500   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a501"></a><br />501   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$time_from </strong><font color="#009999">The start time</font><a name="a502"></a><br />502   <font color="#009999">	*</font><font color="#009999">	</font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$time_to </strong><font color="#009999">The end time</font><a name="a503"></a><br />503   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>char </em><font color="#009999"></font><strong>$result_in </strong><font color="#009999">The format of result</font><a name="a504"></a><br />504   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;m&quot; -&gt; for minutes</font><a name="a505"></a><br />505   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;s&quot; -&gt; for seconds</font><a name="a506"></a><br />506   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;h&quot; -&gt; for hours</font><a name="a507"></a><br />507   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The difference between times according to format given in $result_in</font><a name="a508"></a><br />508   <font color="#009999">	*/</font><a name="a509"></a><br />509       <font color="blue">function</font> <a href="../kronos/Krono.html#methodtimes_diff">times_diff</a><strong>(</strong><strong>$time_from</strong><strong>,</strong><strong>$time_to</strong><strong>,</strong><strong>$result_in</strong>=<font color="#66cccc">&quot;m&quot;</font><strong>)</strong><a name="a510"></a><br />510       <strong>{</strong><a name="a511"></a><br />511           <font color="blue">if</font><strong>(</strong> <strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time_from</strong><strong>,</strong><font color="#66cccc">'.'</font><strong>)</strong> || <a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time_from</strong><strong>,</strong><font color="#66cccc">':'</font><strong>)</strong><strong>)</strong> &amp;&amp; <strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time_to</strong><strong>,</strong><font color="#66cccc">'.'</font><strong>)</strong> || <a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time_to</strong><strong>,</strong><font color="#66cccc">':'</font><strong>)</strong><strong>)</strong> <strong>)</strong><a name="a512"></a><br />512           <strong>{</strong><a name="a513"></a><br />513               <strong>$time_from</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">':'</font><strong>,</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time_from</strong><strong>)</strong>;<a name="a514"></a><br />514               <strong>$time_to</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">':'</font><strong>,</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time_to</strong><strong>)</strong>;<a name="a515"></a><br />515               <a name="a516"></a><br />516               <strong>$t1</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time_from</strong><strong>)</strong>;<a name="a517"></a><br />517               <strong>$t2</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time_to</strong><strong>)</strong>;<a name="a518"></a><br />518               <a name="a519"></a><br />519               <strong>$h1</strong>=<strong>$t1</strong><strong>[</strong>0<strong>]</strong>;<a name="a520"></a><br />520               <strong>$m1</strong>=<strong>$t1</strong><strong>[</strong>1<strong>]</strong>;<a name="a521"></a><br />521               <a name="a522"></a><br />522               <strong>$h2</strong>=<strong>$t2</strong><strong>[</strong>0<strong>]</strong>;<a name="a523"></a><br />523               <strong>$m2</strong>=<strong>$t2</strong><strong>[</strong>1<strong>]</strong>;<a name="a524"></a><br />524               <a name="a525"></a><br />525               <font color="blue">if</font><strong>(</strong><strong>$h1</strong>&lt;=24 &amp;&amp; <strong>$h2</strong>&lt;=24 &amp;&amp; <strong>$h1</strong>&gt;=0 &amp;&amp; <strong>$h2</strong>&gt;=0 &amp;&amp; <strong>$m1</strong>&lt;=59 &amp;&amp; <strong>$m2</strong>&lt;=59 &amp;&amp; <strong>$m1</strong>&gt;=0 &amp;&amp; <strong>$m2</strong>&gt;=0<strong>)</strong><a name="a526"></a><br />526               <strong>{</strong><a name="a527"></a><br />527                   <strong>$diff</strong>=<strong>(</strong><strong>$h2</strong>*3600+<strong>$m2</strong>*60<strong>)</strong>-<strong>(</strong><strong>$h1</strong>*3600+<strong>$m1</strong>*60<strong>)</strong>;<a name="a528"></a><br />528                   <font color="blue">if</font><strong>(</strong><strong>$result_in</strong>==<font color="#66cccc">&quot;s&quot;</font><strong>)</strong><a name="a529"></a><br />529                       <font color="blue">return</font> <strong>$diff</strong>;<a name="a530"></a><br />530                   elseif<strong>(</strong><strong>$result_in</strong>==<font color="#66cccc">&quot;m&quot;</font><strong>)</strong><a name="a531"></a><br />531                   <strong>{</strong><a name="a532"></a><br />532                       <font color="blue">return</font> <strong>$diff</strong>/60;<a name="a533"></a><br />533                   <strong>}</strong><a name="a534"></a><br />534                   elseif<strong>(</strong><strong>$result_in</strong>==<font color="#66cccc">&quot;h&quot;</font><strong>)</strong><a name="a535"></a><br />535                   <strong>{</strong><a name="a536"></a><br />536                       <strong>$r</strong>=<strong>$diff</strong>/3600;<a name="a537"></a><br />537                       <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$r</strong><strong>)</strong>;<a name="a538"></a><br />538                       <strong>$h</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a539"></a><br />539                       <font color="blue">if</font><strong>(</strong><strong>$h</strong>&gt;24<strong>)</strong><a name="a540"></a><br />540                           <strong>$h</strong>-=24;                    <a name="a541"></a><br />541                       <strong>$m</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a542"></a><br />542                       <font color="blue">return</font> <strong>$h</strong>.<font color="#66cccc">'h'</font>.<strong>$m</strong>.<font color="#66cccc">'m'</font>;<a name="a543"></a><br />543                   <strong>}</strong>            <a name="a544"></a><br />544               <strong>}</strong><a name="a545"></a><br />545               else<a name="a546"></a><br />546               <strong>{</strong><a name="a547"></a><br />547                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Time range not valid. Must be 0 to 24 for hours and 0 to 59 for minutes!'</font>;<a name="a548"></a><br />548                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a549"></a><br />549               <strong>}</strong>                            <a name="a550"></a><br />550           <strong>}</strong><a name="a551"></a><br />551           else<a name="a552"></a><br />552           <strong>{</strong><a name="a553"></a><br />553               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Time format not valid. Must be in format HH:mm or HH.mm'</font>;<a name="a554"></a><br />554               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;        <a name="a555"></a><br />555           <strong>}</strong>    <a name="a556"></a><br />556       <strong>}</strong><a name="a557"></a><br />557       <a name="a558"></a><br />558       <font color="#009999">/**</font><a name="a559"></a><br />559   <font color="#009999">	*	Add some minutes or hours to a given time.</font><a name="a560"></a><br />560   <font color="#009999">	*	+ i.e.: (add 2 hours to 14.10 -&gt; result is 16.10)</font><a name="a561"></a><br />561   <font color="#009999">	*	+ Accept only 24H format.</font><a name="a562"></a><br />562   <font color="#009999">	*	+ the time is a string like: &quot;4.50&quot; or &quot;4:50&quot;</font><a name="a563"></a><br />563   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$time </strong><font color="#009999">The time string to transform</font><a name="a564"></a><br />564   <font color="#009999">	*</font><font color="#009999">	</font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><strong>$add </strong><font color="#009999">The hours or minutes to add</font><a name="a565"></a><br />565   <font color="#009999">	*</font><font color="#009999">	</font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>char </em><font color="#009999"></font><strong>$what </strong><font color="#009999">is what add to time</font><a name="a566"></a><br />566   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;m&quot; -&gt; for add minutes</font><a name="a567"></a><br />567   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;h&quot; -&gt; for add hours</font><a name="a568"></a><br />568   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ &quot;t&quot; -&gt; for add time string given in HH:mm format</font><a name="a569"></a><br />569   <font color="#009999">	*</font><font color="#009999">	</font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">Result is in format HH:mm, return -1 on error</font><a name="a570"></a><br />570   <font color="#009999">	*/</font><a name="a571"></a><br />571       <font color="blue">function</font> <a href="../kronos/Krono.html#methodtimes_add">times_add</a><strong>(</strong><strong>$time</strong><strong>,</strong><strong>$add</strong><strong>,</strong><strong>$what</strong><strong>)</strong><a name="a572"></a><br />572       <strong>{</strong><a name="a573"></a><br />573           <font color="blue">if</font><strong>(</strong> <strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time</strong><strong>,</strong><font color="#66cccc">'.'</font><strong>)</strong> || <a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$time</strong><strong>,</strong><font color="#66cccc">':'</font><strong>)</strong><strong>)</strong><strong>)</strong><a name="a574"></a><br />574           <strong>{</strong><a name="a575"></a><br />575               <strong>$time</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">':'</font><strong>,</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time</strong><strong>)</strong>;            <a name="a576"></a><br />576               <strong>$t1</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$time</strong><strong>)</strong>;            <a name="a577"></a><br />577               <strong>$h1</strong>=<strong>$t1</strong><strong>[</strong>0<strong>]</strong>;<a name="a578"></a><br />578               <strong>$m1</strong>=<strong>$t1</strong><strong>[</strong>1<strong>]</strong>;<a name="a579"></a><br />579               <font color="blue">if</font><strong>(</strong><strong>$h1</strong>&lt;=24 &amp;&amp; <strong>$h1</strong>&gt;=0  &amp;&amp; <strong>$m1</strong>&lt;=59 &amp;&amp; <strong>$m1</strong>&gt;=0<strong>)</strong><a name="a580"></a><br />580               <strong>{</strong><a name="a581"></a><br />581                   <font color="blue">if</font><strong>(</strong><strong>$what</strong>==<font color="#66cccc">&quot;m&quot;</font><strong>)</strong><a name="a582"></a><br />582                   <strong>{</strong><a name="a583"></a><br />583                       <strong>$res</strong>=<strong>(</strong><strong>$h1</strong>*60<strong>)</strong>+<strong>$m1</strong>+<strong>$add</strong>;<a name="a584"></a><br />584                       <strong>$r</strong>=<strong>$res</strong>/60;<a name="a585"></a><br />585                       <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$r</strong><strong>)</strong>;<a name="a586"></a><br />586                       <strong>$h</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a587"></a><br />587                       <font color="blue">if</font><strong>(</strong><strong>$h</strong>&gt;24<strong>)</strong><a name="a588"></a><br />588                           <strong>$h</strong>-=24;                    <a name="a589"></a><br />589                       <strong>$m</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a590"></a><br />590                       <font color="blue">return</font> <strong>$h</strong>.<font color="#66cccc">':'</font>.<strong>$m</strong>;<a name="a591"></a><br />591                   <strong>}</strong><a name="a592"></a><br />592                   elseif<strong>(</strong><strong>$what</strong>==<font color="#66cccc">&quot;h&quot;</font><strong>)</strong><a name="a593"></a><br />593                   <strong>{</strong><a name="a594"></a><br />594                       <strong>$res</strong>=<strong>(</strong><strong>$h1</strong>*60<strong>)</strong>+<strong>$m1</strong>+<strong>(</strong><strong>$add</strong>*60<strong>)</strong>;<a name="a595"></a><br />595                       <strong>$r</strong>=<strong>$res</strong>/60;<a name="a596"></a><br />596                       <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$r</strong><strong>)</strong>;<a name="a597"></a><br />597                       <strong>$h</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a598"></a><br />598                       <font color="blue">if</font><strong>(</strong><strong>$h</strong>&gt;24<strong>)</strong><a name="a599"></a><br />599                           <strong>$h</strong>-=24;                    <a name="a600"></a><br />600                       <strong>$m</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a601"></a><br />601                       <font color="blue">return</font> <strong>$h</strong>.<font color="#66cccc">':'</font>.<strong>$m</strong>;                <a name="a602"></a><br />602                   <strong>}</strong><a name="a603"></a><br />603                   elseif<strong>(</strong><strong>$what</strong>==<font color="#66cccc">&quot;t&quot;</font><strong>)</strong><a name="a604"></a><br />604                   <strong>{</strong><a name="a605"></a><br />605                       <font color="blue">if</font><strong>(</strong> <strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$add</strong><strong>,</strong><font color="#66cccc">'.'</font><strong>)</strong> || <a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$add</strong><strong>,</strong><font color="#66cccc">':'</font><strong>)</strong><strong>)</strong><strong>)</strong><a name="a606"></a><br />606                       <strong>{</strong><a name="a607"></a><br />607                           <strong>$add</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">':'</font><strong>,</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$add</strong><strong>)</strong>;            <a name="a608"></a><br />608                           <strong>$t1</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$add</strong><strong>)</strong>;            <a name="a609"></a><br />609                           <strong>$h2</strong>=<strong>$t1</strong><strong>[</strong>0<strong>]</strong>;<a name="a610"></a><br />610                           <strong>$m2</strong>=<strong>$t1</strong><strong>[</strong>1<strong>]</strong>;<a name="a611"></a><br />611                           <font color="blue">if</font><strong>(</strong><strong>$h2</strong>&lt;=24 &amp;&amp; <strong>$h2</strong>&gt;=0  &amp;&amp; <strong>$m2</strong>&lt;=59 &amp;&amp; <strong>$m2</strong>&gt;=0<strong>)</strong><a name="a612"></a><br />612                           <strong>{</strong><a name="a613"></a><br />613                               <strong>$res</strong>=<strong>(</strong><strong>$h1</strong>*60<strong>)</strong>+<strong>(</strong><strong>$h2</strong>*60<strong>)</strong>+<strong>$m1</strong>+<strong>$m2</strong>;<a name="a614"></a><br />614                               <strong>$r</strong>=<strong>$res</strong>/60;<a name="a615"></a><br />615                               <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$r</strong><strong>)</strong>;<a name="a616"></a><br />616                               <strong>$h</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a617"></a><br />617                               <font color="blue">if</font><strong>(</strong><strong>$h</strong>&gt;24<strong>)</strong><a name="a618"></a><br />618                                   <strong>$h</strong>-=24;<a name="a619"></a><br />619                               <strong>$m</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a620"></a><br />620                               <font color="blue">return</font> <strong>$h</strong>.<font color="#66cccc">':'</font>.<strong>$m</strong>;                                            <a name="a621"></a><br />621                           <strong>}</strong>                        <a name="a622"></a><br />622                       <strong>}</strong>                    <a name="a623"></a><br />623                       else<a name="a624"></a><br />624                       <strong>{</strong><a name="a625"></a><br />625                           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Time format not valid. Must be in format HH:mm or HH.mm'</font>;<a name="a626"></a><br />626                           <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;        <a name="a627"></a><br />627                       <strong>}</strong>    <a name="a628"></a><br />628                   <strong>}</strong><a name="a629"></a><br />629               <strong>}</strong><a name="a630"></a><br />630               else<a name="a631"></a><br />631               <strong>{</strong><a name="a632"></a><br />632                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Time range not valid. Must be 0 to 24 for hours and 0 to 59 for minutes!'</font>;<a name="a633"></a><br />633                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a634"></a><br />634               <strong>}</strong>                            <a name="a635"></a><br />635           <strong>}</strong><a name="a636"></a><br />636           else<a name="a637"></a><br />637           <strong>{</strong><a name="a638"></a><br />638               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Time format not valid. Must be in format HH:mm or HH.mm'</font>;<a name="a639"></a><br />639               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;        <a name="a640"></a><br />640           <strong>}</strong>    <a name="a641"></a><br />641       <strong>}</strong><a name="a642"></a><br />642       <a name="a643"></a><br />643       <font color="#009999">/** Define how days left to given date. date according to date_format parameter passed on inizialization</font><a name="a644"></a><br />644   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a645"></a><br />645   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><strong>$data </strong><font color="#009999">The date in traditional format for calculating diff</font><a name="a646"></a><br />646   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><font color="#009999">The amount of days between today and given date</font><a name="a647"></a><br />647   <font color="#009999">	*/</font><a name="a648"></a><br />648       <font color="blue">function</font> <a href="../kronos/Krono.html#methodhow_to">how_to</a><strong>(</strong><strong>$data</strong><strong>)</strong><a name="a649"></a><br />649       <strong>{</strong><a name="a650"></a><br />650           <strong>$data</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'-'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a651"></a><br />651           <strong>$data</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a652"></a><br />652           <strong>$exp</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$data</strong><strong>)</strong>;<a name="a653"></a><br />653           <strong>$data_unix</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp</strong><strong>)</strong>;<a name="a654"></a><br />654           <font color="blue">if</font><strong>(</strong><strong>$data_unix</strong>&gt;<a href="http://www.php.net/time">time</a><strong>(</strong><strong>)</strong><strong>)</strong><a name="a655"></a><br />655               <font color="blue">return</font> <strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">&quot;z&quot;</font><strong>,</strong><strong>$data_unix</strong><strong>)</strong>-<strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">&quot;z&quot;</font><strong>)</strong><strong>)</strong><strong>)</strong>;<a name="a656"></a><br />656           else<a name="a657"></a><br />657           <strong>{</strong><a name="a658"></a><br />658               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Cannot perform calculation on past time!'</font>;<a name="a659"></a><br />659               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a660"></a><br />660           <strong>}</strong><a name="a661"></a><br />661       <strong>}</strong><a name="a662"></a><br />662   <a name="a663"></a><br />663       <a name="a664"></a><br />664       <font color="#009999">/** Work like php native mktime() but with date accordingly to format used</font><a name="a665"></a><br />665   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a666"></a><br />666   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>array </em><font color="#009999"></font><strong>$exp </strong><font color="#009999">The date to transform</font><a name="a667"></a><br />667   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>timestamp </em><font color="#009999"></font><font color="#009999">The timestamp calculated on date given</font><a name="a668"></a><br />668   <font color="#009999">	*/</font><a name="a669"></a><br />669       <font color="blue">function</font> <a href="../kronos/Krono.html#methodk_mktime">k_mktime</a><strong>(</strong><strong>$exp</strong><strong>)</strong><a name="a670"></a><br />670       <strong>{</strong><a name="a671"></a><br />671           <font color="blue">switch</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$date_format">date_format</a><strong>)</strong> <a name="a672"></a><br />672           <strong>{</strong><a name="a673"></a><br />673               case <font color="#66cccc">'ansi'</font>: <font color="blue">return</font> <a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$exp</strong><strong>[</strong>1<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>0<strong>]</strong><strong>)</strong>; break; <font color="green">// using YYYY-MM-DD				</font><a name="a674"></a><br />674               case <font color="#66cccc">'it'</font>: <font color="blue">return</font> <a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$exp</strong><strong>[</strong>1<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>0<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>)</strong>; break;<font color="green">// using DD-MM-YYYY</font><a name="a675"></a><br />675               case <font color="#66cccc">'std'</font>: <font color="blue">return</font> <a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$exp</strong><strong>[</strong>0<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>1<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>)</strong>; break; <font color="green">// using MM-DD-YYYY										</font><a name="a676"></a><br />676               case <font color="#66cccc">'en'</font>: <font color="blue">return</font> <a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$exp</strong><strong>[</strong>0<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>1<strong>]</strong><strong>,</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>)</strong>; break; <font color="green">// using MM-DD-YYYY													    </font><a name="a677"></a><br />677               default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Date Format not recognized, must be &quot;ansi&quot;, &quot;it&quot;, &quot;std&quot; or &quot;en&quot; !! '</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a678"></a><br />678           <strong>}</strong><a name="a679"></a><br />679       <strong>}</strong><a name="a680"></a><br />680       <a name="a681"></a><br />681       <font color="#009999">/**</font><a name="a682"></a><br />682   <font color="#009999">	*	Return a single component of given date according to format in date_format</font><a name="a683"></a><br />683   <font color="#009999">	*   date example with hour: 03/05/2003 23:43:00 (use only ':' as time separator)</font><a name="a684"></a><br />684   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a685"></a><br />685   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>date </em><a name="a686"></a><br />686   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><font color="#009999">to extract atom from</font><a name="a687"></a><br />687   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>atom </em><font color="#009999"></font><font color="#009999">-&gt;</font><a name="a688"></a><br />688   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">		 	+	'm' for return month;</font><a name="a689"></a><br />689   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	'd' for return day;</font><a name="a690"></a><br />690   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	'y' for return last two number of year</font><a name="a691"></a><br />691   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	'Y' for return entire year</font><a name="a692"></a><br />692   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	'h' for hours</font><a name="a693"></a><br />693   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	'i' for minutes</font><a name="a694"></a><br />694   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">			+	's' for seconds</font><a name="a695"></a><br />695   <font color="#009999">	*/</font><a name="a696"></a><br />696       <font color="blue">function</font> <a href="../kronos/Krono.html#methodatom_date">atom_date</a><strong>(</strong><strong>$date</strong><strong>,</strong><strong>$atom</strong><strong>)</strong><a name="a697"></a><br />697       <strong>{</strong><a name="a698"></a><br />698           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$date</strong><strong>)</strong>&lt;10<strong>)</strong><a name="a699"></a><br />699           <strong>{</strong><a name="a700"></a><br />700               <strong>$date</strong>.=<font color="#66cccc">' 00:00:00'</font>;<a name="a701"></a><br />701           <strong>}</strong><a name="a702"></a><br />702   <a name="a703"></a><br />703           <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">' '</font><strong>,</strong><strong>$date</strong><strong>)</strong>;<a name="a704"></a><br />704           <strong>$exp1</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$t</strong><strong>[</strong>0<strong>]</strong><strong>)</strong>;<a name="a705"></a><br />705           <strong>$exp2</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">':'</font><strong>,</strong><strong>$t</strong><strong>[</strong>1<strong>]</strong><strong>)</strong>;<a name="a706"></a><br />706           <strong>$exp</strong>=<a href="http://www.php.net/array_merge">array_merge</a><strong>(</strong><strong>$exp1</strong><strong>,</strong><strong>$exp2</strong><strong>)</strong>;<a name="a707"></a><br />707           <font color="green">// Extract only time</font><a name="a708"></a><br />708           <font color="blue">switch</font><strong>(</strong><strong>$atom</strong><strong>)</strong><a name="a709"></a><br />709           <strong>{</strong><a name="a710"></a><br />710               case <font color="#66cccc">'h'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>3<strong>]</strong>; break;<a name="a711"></a><br />711               case <font color="#66cccc">'i'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>4<strong>]</strong>; break;<a name="a712"></a><br />712               case <font color="#66cccc">'s'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>5<strong>]</strong>; break;<a name="a713"></a><br />713           <strong>}</strong><a name="a714"></a><br />714           <font color="green">// Extract day,month and year</font><a name="a715"></a><br />715           <font color="blue">switch</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$date_format">date_format</a><strong>)</strong><a name="a716"></a><br />716           <strong>{</strong><a name="a717"></a><br />717               case <font color="#66cccc">'ansi'</font>:<a name="a718"></a><br />718               <strong>{</strong><a name="a719"></a><br />719                   <font color="blue">switch</font><strong>(</strong><strong>$atom</strong><strong>)</strong><a name="a720"></a><br />720                   <strong>{</strong><a name="a721"></a><br />721                       case <font color="#66cccc">'d'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>2<strong>]</strong>; break;<a name="a722"></a><br />722                       case <font color="#66cccc">'m'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>1<strong>]</strong>; break;<a name="a723"></a><br />723                       case <font color="#66cccc">'y'</font>: <font color="blue">return</font> <a href="http://www.php.net/substr">substr</a><strong>(</strong><strong>$exp</strong><strong>[</strong>0<strong>]</strong><strong>,</strong>2<strong>,</strong>2<strong>)</strong>; break;<a name="a724"></a><br />724                       case <font color="#66cccc">'Y'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>0<strong>]</strong>; break;<a name="a725"></a><br />725                       default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Atom not recognized, must be &quot;d&quot;, &quot;m&quot;, &quot;y&quot; or &quot;Y&quot; !!'</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a726"></a><br />726                   <strong>}</strong><a name="a727"></a><br />727                   break;<a name="a728"></a><br />728               <strong>}</strong>            <a name="a729"></a><br />729               case <font color="#66cccc">'it'</font>:<a name="a730"></a><br />730               <strong>{</strong><a name="a731"></a><br />731                   <font color="blue">switch</font><strong>(</strong><strong>$atom</strong><strong>)</strong><a name="a732"></a><br />732                   <strong>{</strong><a name="a733"></a><br />733                       case <font color="#66cccc">'d'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>0<strong>]</strong>; break;<a name="a734"></a><br />734                       case <font color="#66cccc">'m'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>1<strong>]</strong>; break;<a name="a735"></a><br />735                       case <font color="#66cccc">'y'</font>: <font color="blue">return</font> <a href="http://www.php.net/substr">substr</a><strong>(</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>,</strong>2<strong>,</strong>2<strong>)</strong>; break;<a name="a736"></a><br />736                       case <font color="#66cccc">'Y'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>2<strong>]</strong>; break;<a name="a737"></a><br />737                       default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Atom not recognized, must be &quot;d&quot;, &quot;m&quot;, &quot;y&quot; or &quot;Y&quot; !!'</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a738"></a><br />738                   <strong>}</strong><a name="a739"></a><br />739                   break;<a name="a740"></a><br />740               <strong>}</strong>            <a name="a741"></a><br />741               case <font color="#66cccc">'en'</font>:<a name="a742"></a><br />742               case <font color="#66cccc">'std'</font>:<a name="a743"></a><br />743               <strong>{</strong><a name="a744"></a><br />744                   <font color="blue">switch</font><strong>(</strong><strong>$atom</strong><strong>)</strong><a name="a745"></a><br />745                   <strong>{</strong><a name="a746"></a><br />746                       case <font color="#66cccc">'d'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>1<strong>]</strong>; break;<a name="a747"></a><br />747                       case <font color="#66cccc">'m'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>0<strong>]</strong>; break;<a name="a748"></a><br />748                       case <font color="#66cccc">'y'</font>: <font color="blue">return</font> <a href="http://www.php.net/substr">substr</a><strong>(</strong><strong>$exp</strong><strong>[</strong>2<strong>]</strong><strong>,</strong>2<strong>,</strong>2<strong>)</strong>; break;<a name="a749"></a><br />749                       case <font color="#66cccc">'Y'</font>: <font color="blue">return</font> <strong>$exp</strong><strong>[</strong>2<strong>]</strong>; break;<a name="a750"></a><br />750                       default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Atom not recognized, must be &quot;d&quot;, &quot;m&quot;, &quot;y&quot; or &quot;Y&quot; !!'</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a751"></a><br />751                   <strong>}</strong><a name="a752"></a><br />752                   break;<a name="a753"></a><br />753               <strong>}</strong>            <a name="a754"></a><br />754               default: <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Date Format not recognized, must be &quot;ansi&quot;, &quot;it&quot;, &quot;std&quot; or &quot;en&quot; !! '</font>; <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;            <a name="a755"></a><br />755           <strong>}</strong><a name="a756"></a><br />756       <strong>}</strong><a name="a757"></a><br />757       <a name="a758"></a><br />758   <a name="a759"></a><br />759       <font color="#009999">/** Date like function. Using the same format functionality</font><a name="a760"></a><br />760   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a761"></a><br />761   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The date according with format given</font><a name="a762"></a><br />762   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">format -&gt;</font><a name="a763"></a><br />763   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ valid format parameter:</font><a name="a764"></a><br />764   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %l (L lowercase): Day textual long</font><a name="a765"></a><br />765   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %d: Day of month, 2 digits with leading zeros</font><a name="a766"></a><br />766   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %F: Month textual Long</font><a name="a767"></a><br />767   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %Y: Year, 4 digits</font><a name="a768"></a><br />768   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %y: Year, 2 digits</font><a name="a769"></a><br />769   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %m: Month numeric, 2 digits with leading zeros</font><a name="a770"></a><br />770   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %D: Day textual short</font><a name="a771"></a><br />771   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %M: Month textual short</font><a name="a772"></a><br />772   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %n: Month numeric, without leading zeros</font><a name="a773"></a><br />773   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	+ %j: Day of month, without leading zeros</font><a name="a774"></a><br />774   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>timestamp </em><font color="#009999"></font><strong>$timestamp </strong><font color="#009999">The time to transform</font><a name="a775"></a><br />775   <font color="#009999">	*/</font><a name="a776"></a><br />776       <font color="blue">function</font> <a href="../kronos/Krono.html#methodk_date">k_date</a><strong>(</strong><strong>$format</strong>=<font color="#66cccc">&quot;%l %d %F %Y&quot;</font><strong>,</strong><strong>$timestamp</strong>=0<strong>)</strong><a name="a777"></a><br />777       <strong>{</strong>    <a name="a778"></a><br />778           <font color="blue">if</font><strong>(</strong><strong>$timestamp</strong>==0<strong>)</strong><a name="a779"></a><br />779               <strong>$timestamp</strong>=<a href="http://www.php.net/time">time</a><strong>(</strong><strong>)</strong>;<a name="a780"></a><br />780               <a name="a781"></a><br />781   <a name="a782"></a><br />782           <font color="blue">if</font><strong>(</strong><strong>!</strong><a href="http://www.php.net/preg_match">preg_match</a><strong>(</strong><font color="#66cccc">'/\%l|\%F|\%D|\%M/'</font><strong>,</strong><strong>$format</strong><strong>)</strong><strong>)</strong><a name="a783"></a><br />783           <strong>{</strong><a name="a784"></a><br />784               <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%'</font><strong>,</strong><font color="#66cccc">''</font><strong>,</strong><strong>$format</strong><strong>)</strong><strong>,</strong><strong>$timestamp</strong><strong>)</strong>;<a name="a785"></a><br />785           <strong>}</strong><a name="a786"></a><br />786           else<a name="a787"></a><br />787           <strong>{</strong><a name="a788"></a><br />788               <strong>$out</strong>=<strong>$format</strong>;<a name="a789"></a><br />789               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%l'</font><strong>)</strong><strong>)</strong><a name="a790"></a><br />790               <strong>{</strong><a name="a791"></a><br />791                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>=false;<a name="a792"></a><br />792                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%l'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodn_to_day">n_to_day</a><strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'w'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a793"></a><br />793               <strong>}</strong><a name="a794"></a><br />794               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%F'</font><strong>)</strong><strong>)</strong><a name="a795"></a><br />795               <strong>{</strong><a name="a796"></a><br />796                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>=false;<a name="a797"></a><br />797                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%F'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodn_to_month">n_to_month</a><strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a798"></a><br />798               <strong>}</strong><a name="a799"></a><br />799               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%D'</font><strong>)</strong><strong>)</strong><a name="a800"></a><br />800               <strong>{</strong><a name="a801"></a><br />801                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>=true;<a name="a802"></a><br />802                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%D'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodn_to_day">n_to_day</a><strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'w'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a803"></a><br />803               <strong>}</strong><a name="a804"></a><br />804               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%M'</font><strong>)</strong><strong>)</strong><a name="a805"></a><br />805               <strong>{</strong><a name="a806"></a><br />806                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$abbr">abbr</a>=true;<a name="a807"></a><br />807                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%M'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodn_to_month">n_to_month</a><strong>(</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a808"></a><br />808               <strong>}</strong>            <a name="a809"></a><br />809               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%Y'</font><strong>)</strong><strong>)</strong><a name="a810"></a><br />810                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%Y'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a811"></a><br />811               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%y'</font><strong>)</strong><strong>)</strong><a name="a812"></a><br />812                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%y'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'y'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a813"></a><br />813               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%d'</font><strong>)</strong><strong>)</strong><a name="a814"></a><br />814                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%d'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a815"></a><br />815               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%m'</font><strong>)</strong><strong>)</strong><a name="a816"></a><br />816                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%m'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a817"></a><br />817               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%n'</font><strong>)</strong><strong>)</strong><a name="a818"></a><br />818                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%n'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'n'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a819"></a><br />819               <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$format</strong><strong>,</strong><font color="#66cccc">'%j'</font><strong>)</strong><strong>)</strong><a name="a820"></a><br />820                   <strong>$out</strong>=<a href="http://www.php.net/str_replace">str_replace</a><strong>(</strong><font color="#66cccc">'%j'</font><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'j'</font><strong>,</strong><strong>$timestamp</strong><strong>)</strong><strong>,</strong><strong>$out</strong><strong>)</strong>;<a name="a821"></a><br />821   <a name="a822"></a><br />822               <font color="blue">return</font> <strong>$out</strong>;<a name="a823"></a><br />823           <strong>}</strong><a name="a824"></a><br />824       <strong>}</strong><a name="a825"></a><br />825       <a name="a826"></a><br />826       <font color="#009999">/** Perform operation like sum or subtraction on date</font><a name="a827"></a><br />827   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a828"></a><br />828   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><font color="#009999">The date transformed by calc</font><a name="a829"></a><br />829   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"> </font><em>string </em><font color="#009999"></font><strong>$operator </strong><font color="#009999">Operator may be</font><a name="a830"></a><br />830   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  '+' -&gt; for sum</font><a name="a831"></a><br />831   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  'sum' -&gt; for sum</font><a name="a832"></a><br />832   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  'add' -&gt; for sum</font><a name="a833"></a><br />833   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  '-' -&gt; for subtraction</font><a name="a834"></a><br />834   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  'sub'-&gt; for subtraction</font><a name="a835"></a><br />835   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  +  'sot'-&gt; for subtraction</font><a name="a836"></a><br />836   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"> </font><em>date </em><font color="#009999"></font><strong>$date </strong><font color="#009999">The date to calc on</font><a name="a837"></a><br />837   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"> </font><em>string </em><font color="#009999"></font><strong>$operand </strong><font color="#009999">is a number plus '%D' for days, '%M' for months, '%Y' for years</font><a name="a838"></a><br />838   <font color="#009999">	*</font><font color="#009999"> </font><font color="#009999">  + Example:</font><a name="a839"></a><br />839   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	- Add 1 month to a date:</font><a name="a840"></a><br />840   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	- $obj-&gt;operation('+','10/01/2003','1%M');</font><a name="a841"></a><br />841   <font color="#009999">	* </font><a name="a842"></a><br />842   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	- Subtract 20 days from a date:</font><a name="a843"></a><br />843   <font color="#009999">	*</font><font color="#009999">	</font><font color="#009999">	- $obj-&gt;operation('-','10/01/2003','20%D');</font><a name="a844"></a><br />844   <font color="#009999">	*/</font>    <a name="a845"></a><br />845       <font color="blue">function</font> <a href="../kronos/Krono.html#methodoperation">operation</a><strong>(</strong><strong>$operator</strong><strong>,</strong><strong>$date</strong><strong>,</strong><strong>$operand</strong><strong>)</strong><a name="a846"></a><br />846       <strong>{</strong><a name="a847"></a><br />847           <strong>$ts</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methoddate_to_timestamp">date_to_timestamp</a><strong>(</strong><strong>$date</strong><strong>)</strong>;<a name="a848"></a><br />848           <a name="a849"></a><br />849           <font color="blue">if</font><strong>(</strong><strong>!</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$operand</strong><strong>,</strong><font color="#66cccc">'%'</font><strong>)</strong><strong>)</strong><a name="a850"></a><br />850           <strong>{</strong><a name="a851"></a><br />851               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Bad operand type!!'</font>;<a name="a852"></a><br />852               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a853"></a><br />853           <strong>}</strong><a name="a854"></a><br />854   <a name="a855"></a><br />855           <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'%'</font><strong>,</strong><strong>$operand</strong><strong>)</strong>;<a name="a856"></a><br />856           <strong>$how</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a857"></a><br />857           <a name="a858"></a><br />858           <font color="blue">switch</font><strong>(</strong><strong>$t</strong><strong>[</strong>1<strong>]</strong><strong>)</strong><a name="a859"></a><br />859           <strong>{</strong><a name="a860"></a><br />860               case <font color="#66cccc">'D'</font>:<a name="a861"></a><br />861               <strong>{</strong><a name="a862"></a><br />862                   <font color="blue">if</font><strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'+'</font> || <strong>$operator</strong>==<font color="#66cccc">'sum'</font> || <strong>$operator</strong>==<font color="#66cccc">'add'</font><strong>)</strong><a name="a863"></a><br />863                   <strong>{</strong><a name="a864"></a><br />864                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>+<strong>$how</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>)</strong><strong>)</strong>;<a name="a865"></a><br />865                   <strong>}</strong><a name="a866"></a><br />866                   elseif<strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'-'</font> || <strong>$operator</strong>==<font color="#66cccc">'sub'</font> || <strong>$operator</strong>==<font color="#66cccc">'sot'</font><strong>)</strong><a name="a867"></a><br />867                   <strong>{</strong><a name="a868"></a><br />868                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>-<strong>$how</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>)</strong><strong>)</strong>;                <a name="a869"></a><br />869                   <strong>}</strong><a name="a870"></a><br />870                   else<a name="a871"></a><br />871                   <strong>{</strong><a name="a872"></a><br />872                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Operator not recognized!!'</font>;<a name="a873"></a><br />873                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a874"></a><br />874                   <strong>}</strong><a name="a875"></a><br />875                   break;<a name="a876"></a><br />876               <strong>}</strong><a name="a877"></a><br />877               case <font color="#66cccc">'M'</font>:<a name="a878"></a><br />878               <strong>{</strong><a name="a879"></a><br />879                   <font color="blue">if</font><strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'+'</font> || <strong>$operator</strong>==<font color="#66cccc">'sum'</font> || <strong>$operator</strong>==<font color="#66cccc">'add'</font><strong>)</strong><a name="a880"></a><br />880                   <strong>{</strong><a name="a881"></a><br />881                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>+<strong>$how</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>)</strong><strong>)</strong>;<a name="a882"></a><br />882                   <strong>}</strong><a name="a883"></a><br />883                   elseif<strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'-'</font> || <strong>$operator</strong>==<font color="#66cccc">'sub'</font> || <strong>$operator</strong>==<font color="#66cccc">'sot'</font><strong>)</strong><a name="a884"></a><br />884                   <strong>{</strong><a name="a885"></a><br />885                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>-<strong>$how</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>)</strong><strong>)</strong>;                <a name="a886"></a><br />886                   <strong>}</strong><a name="a887"></a><br />887                   else<a name="a888"></a><br />888                   <strong>{</strong><a name="a889"></a><br />889                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Operator not recognized!!'</font>;<a name="a890"></a><br />890                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a891"></a><br />891                   <strong>}</strong><a name="a892"></a><br />892                   break;<a name="a893"></a><br />893               <strong>}</strong><a name="a894"></a><br />894               case <font color="#66cccc">'Y'</font>:<a name="a895"></a><br />895               <strong>{</strong><a name="a896"></a><br />896                   <font color="blue">if</font><strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'+'</font> || <strong>$operator</strong>==<font color="#66cccc">'sum'</font> || <strong>$operator</strong>==<font color="#66cccc">'add'</font><strong>)</strong><a name="a897"></a><br />897                   <strong>{</strong><a name="a898"></a><br />898                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>+<strong>$how</strong><strong>)</strong><strong>)</strong>;<a name="a899"></a><br />899                   <strong>}</strong><a name="a900"></a><br />900                   elseif<strong>(</strong><strong>$operator</strong>==<font color="#66cccc">'-'</font> || <strong>$operator</strong>==<font color="#66cccc">'sub'</font> || <strong>$operator</strong>==<font color="#66cccc">'sot'</font><strong>)</strong><a name="a901"></a><br />901                   <strong>{</strong><a name="a902"></a><br />902                       <font color="blue">return</font> <a href="http://www.php.net/date">date</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'m'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'d'</font><strong>,</strong><strong>$ts</strong><strong>)</strong><strong>,</strong><a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>,</strong><strong>$ts</strong><strong>)</strong>-<strong>$how</strong><strong>)</strong><strong>)</strong>;                <a name="a903"></a><br />903                   <strong>}</strong><a name="a904"></a><br />904                   else<a name="a905"></a><br />905                   <strong>{</strong><a name="a906"></a><br />906                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Operator not recognized!!'</font>;<a name="a907"></a><br />907                       <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a908"></a><br />908                   <strong>}</strong><a name="a909"></a><br />909                   break;<a name="a910"></a><br />910               <strong>}</strong><a name="a911"></a><br />911               default: <a name="a912"></a><br />912               <strong>{</strong><a name="a913"></a><br />913                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Bad operand type!!'</font>;<a name="a914"></a><br />914                   <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a915"></a><br />915               <strong>}</strong><a name="a916"></a><br />916           <strong>}</strong>        <a name="a917"></a><br />917       <strong>}</strong>    <a name="a918"></a><br />918       <a name="a919"></a><br />919       <font color="#009999">/** Return the timestamp from a NIST TIME SERVER on the net. Get the atomic time!</font><a name="a920"></a><br />920   <font color="#009999">	*   + attention</font><a name="a921"></a><br />921   <font color="#009999">	*   + have to stay on line for work!!</font><a name="a922"></a><br />922   <font color="#009999"> 	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a923"></a><br />923   <font color="#009999">	*</font><font color="#009999">   </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>timestamp </em><font color="#009999"></font><font color="#009999">The timestamp from internet</font><a name="a924"></a><br />924   <font color="#009999">	*/</font><a name="a925"></a><br />925       <font color="blue">function</font> <a href="../kronos/Krono.html#methodnet_timestamp">net_timestamp</a><strong>(</strong><strong>$server</strong>=<font color="#66cccc">'time-a.nist.gov'</font><strong>,</strong> <strong>$port</strong>=37<strong>)</strong> <a name="a926"></a><br />926       <strong>{</strong>           <a name="a927"></a><br />927           <font color="blue">if</font> <strong>(</strong><strong>$fp</strong> = <a href="http://www.php.net/fsockopen">fsockopen</a><strong>(</strong><strong>$server</strong><strong>,</strong> <strong>$port</strong><strong>,</strong> <strong>$errno</strong><strong>,</strong> <strong>$errstr</strong><strong>,</strong> 25<strong>)</strong><strong>)</strong> <a name="a928"></a><br />928           <strong>{</strong> <a name="a929"></a><br />929               <a href="http://www.php.net/fputs">fputs</a><strong>(</strong><strong>$fp</strong><strong>,</strong> <font color="#66cccc">&quot;\n&quot;</font><strong>)</strong>; <a name="a930"></a><br />930               <strong>$timevalue</strong> = <a href="http://www.php.net/fread">fread</a><strong>(</strong><strong>$fp</strong><strong>,</strong> 49<strong>)</strong>; <a name="a931"></a><br />931               <a href="http://www.php.net/fclose">fclose</a><strong>(</strong><strong>$fp</strong><strong>)</strong>; <a name="a932"></a><br />932           <strong>}</strong> <a name="a933"></a><br />933           else<a name="a934"></a><br />934           <strong>{</strong><a name="a935"></a><br />935               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<strong>$server</strong>.<font color="#66cccc">' Time Server unavailable or u\'re not connected on the net!!'</font>;<a name="a936"></a><br />936               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a937"></a><br />937           <strong>}</strong><a name="a938"></a><br />938   <a name="a939"></a><br />939           <strong>$ts</strong> = <strong>(</strong><a href="http://www.php.net/abs">abs</a><strong>(</strong><a href="http://www.php.net/hexdec">hexdec</a><strong>(</strong><font color="#66cccc">'7fffffff'</font><strong>)</strong> - <a href="http://www.php.net/hexdec">hexdec</a><strong>(</strong><a href="http://www.php.net/bin2hex">bin2hex</a><strong>(</strong><strong>$timevalue</strong><strong>)</strong><strong>)</strong> - <a href="http://www.php.net/hexdec">hexdec</a><strong>(</strong><font color="#66cccc">'7fffffff'</font><strong>)</strong><strong>)</strong> - 2208988800<strong>)</strong>; <a name="a940"></a><br />940           <font color="blue">return</font> <strong>$ts</strong>; <a name="a941"></a><br />941       <strong>}</strong> <a name="a942"></a><br />942   <a name="a943"></a><br />943       <font color="#009999">/** Returns the current time in swatch .beat format. Remember that 1000 beats = 24 hours</font><a name="a944"></a><br />944   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a945"></a><br />945   <font color="#009999">	*</font><font color="#009999">    </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The swatch beat time</font><a name="a946"></a><br />946   <font color="#009999">	*/</font> <a name="a947"></a><br />947       <font color="blue">function</font> <a href="../kronos/Krono.html#methodswatch_time">swatch_time</a><strong>(</strong><strong>)</strong> <a name="a948"></a><br />948       <strong>{</strong> <a name="a949"></a><br />949         <strong>$offset</strong> = 60; <a name="a950"></a><br />950         <strong>$beat_division</strong> = 24 * 60 / 1000; <a name="a951"></a><br />951         <strong>$current_date</strong> = <a href="http://www.php.net/getdate">getdate</a><strong>(</strong><a href="http://www.php.net/time">time</a><strong>(</strong><strong>)</strong><strong>)</strong>; <a name="a952"></a><br />952         <strong>$hour</strong> = <strong>$current_date</strong><strong>[</strong><font color="#66cccc">&quot;hours&quot;</font><strong>]</strong>; <a name="a953"></a><br />953         <strong>$minute</strong> = <strong>$current_date</strong><strong>[</strong><font color="#66cccc">&quot;minutes&quot;</font><strong>]</strong>; <a name="a954"></a><br />954         <strong>$seconds</strong> = <strong>$current_date</strong><strong>[</strong><font color="#66cccc">&quot;seconds&quot;</font><strong>]</strong>; <a name="a955"></a><br />955         <strong>$total_minutes</strong> = <strong>$minute</strong> + <strong>$offset</strong> + <strong>$hour</strong> * 60; <a name="a956"></a><br />956         <strong>$beats</strong> = <a href="http://www.php.net/round">round</a> <strong>(</strong><strong>$total_minutes</strong> / <strong>$beat_division</strong><strong>)</strong>; <a name="a957"></a><br />957         <font color="blue">if</font> <strong>(</strong><strong>$beats</strong> &gt;= 1000<strong>)</strong> <a name="a958"></a><br />958         <strong>{</strong> <a name="a959"></a><br />959           <strong>$beats</strong> = <strong>$beats</strong> % 1000; <a name="a960"></a><br />960         <strong>}</strong> <a name="a961"></a><br />961          <font color="blue">return</font> <strong>(</strong><font color="#66cccc">&quot;@&quot;</font>.<strong>$beats</strong><strong>)</strong>; <a name="a962"></a><br />962       <strong>}</strong>     <a name="a963"></a><br />963       <a name="a964"></a><br />964       <a name="a965"></a><br />965       <font color="#009999">/** Get the date of Nth day of the month ..</font><a name="a966"></a><br />966   <font color="#009999">	*    + example: what is the date of the 2nd Sunday of April 2003 ???</font><a name="a967"></a><br />967   <font color="#009999"> 	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a968"></a><br />968   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>date </em><font color="#009999"></font><font color="#009999">The date</font><a name="a969"></a><br />969   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><strong>$number </strong><font color="#009999">The ordinal value to get date</font><a name="a970"></a><br />970   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><strong>$weekday </strong><font color="#009999">The name of day given in Long or short format</font><a name="a971"></a><br />971   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>mixed </em><font color="#009999"></font><strong>$month </strong><font color="#009999">the name or number of month</font><a name="a972"></a><br />972   <font color="#009999">	*</font><font color="#009999">  </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><strong>$year </strong><font color="#009999">the year number</font><a name="a973"></a><br />973   <font color="#009999">	*/</font><a name="a974"></a><br />974       <font color="blue">function</font> <a href="../kronos/Krono.html#methodget_nth_day">get_nth_day</a><strong>(</strong><strong>$number</strong><strong>,</strong><strong>$weekday</strong><strong>,</strong><strong>$month</strong><strong>,</strong><strong>$year</strong>=0<strong>)</strong> <a name="a975"></a><br />975       <strong>{</strong> <a name="a976"></a><br />976           <font color="blue">if</font><strong>(</strong><strong>$number</strong>&gt;5<strong>)</strong><a name="a977"></a><br />977           <strong>{</strong><a name="a978"></a><br />978               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'There isn\'t more than 5 '</font>.<strong>$weekday</strong>.<font color="#66cccc">' in a month, usually!!'</font>;<a name="a979"></a><br />979               <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a980"></a><br />980           <strong>}</strong><a name="a981"></a><br />981   <a name="a982"></a><br />982           <strong>$date_counter</strong>=1;  <a name="a983"></a><br />983           <strong>$week_counter</strong>=0;  <a name="a984"></a><br />984           <a name="a985"></a><br />985           <font color="blue">if</font><strong>(</strong><strong>$year</strong>==0<strong>)</strong><a name="a986"></a><br />986               <strong>$year</strong>=<a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'Y'</font><strong>)</strong>;<a name="a987"></a><br />987           <a name="a988"></a><br />988           <font color="blue">if</font><strong>(</strong><a href="http://www.php.net/strlen">strlen</a><strong>(</strong><strong>$weekday</strong><strong>)</strong>&gt;3<strong>)</strong><a name="a989"></a><br />989               <strong>$format_dow</strong>=<font color="#66cccc">'%l'</font>;<a name="a990"></a><br />990           else<a name="a991"></a><br />991               <strong>$format_dow</strong>=<font color="#66cccc">'%D'</font>;<a name="a992"></a><br />992           <a name="a993"></a><br />993           <font color="blue">if</font><strong>(</strong><strong>!</strong><a href="http://www.php.net/is_numeric">is_numeric</a><strong>(</strong><strong>$month</strong><strong>)</strong><strong>)</strong><a name="a994"></a><br />994           <strong>{</strong><a name="a995"></a><br />995               <strong>$month</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodmonth_to_n">month_to_n</a><strong>(</strong><strong>$month</strong><strong>)</strong>;<a name="a996"></a><br />996           <strong>}</strong><a name="a997"></a><br />997           <a name="a998"></a><br />998           do<a name="a999"></a><br />999           <strong>{</strong><a name="a1000"></a><br />1000              <strong>$itsit</strong>=<a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$month</strong><strong>,</strong><strong>$date_counter</strong><strong>,</strong><strong>$year</strong><strong>)</strong>; <a name="a1001"></a><br />1001              <strong>$dow</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_date">k_date</a><strong>(</strong><strong>$format_dow</strong><strong>,</strong><strong>$itsit</strong><strong>)</strong>; <a name="a1002"></a><br />1002              <font color="blue">if</font><strong>(</strong><strong>$dow</strong>==<strong>$weekday</strong><strong>)</strong><a name="a1003"></a><br />1003              <strong>{</strong>   <a name="a1004"></a><br />1004                  <strong>$week_counter</strong>++; <a name="a1005"></a><br />1005              <strong>}</strong> <a name="a1006"></a><br />1006              <a name="a1007"></a><br />1007              <font color="blue">if</font><strong>(</strong> <strong>(</strong><strong>$week_counter</strong>==<strong>$number</strong><strong>)</strong> &amp;&amp; <strong>(</strong><strong>$weekday</strong>==<strong>$dow</strong><strong>)</strong> <strong>)</strong> <a name="a1008"></a><br />1008              <strong>{</strong><a name="a1009"></a><br />1009                  <strong>$week_counter</strong>=<strong>$number</strong>; <a name="a1010"></a><br />1010                  <font color="blue">if</font><strong>(</strong><strong>$date_counter</strong> &gt; 1<strong>)</strong> <font color="green">// Thanks to Maurizio Marini &lt;maumar@datalogica.com&gt;</font><a name="a1011"></a><br />1011                      <strong>$date_counter</strong>--;<a name="a1012"></a><br />1012              <strong>}</strong> <a name="a1013"></a><br />1013              else <a name="a1014"></a><br />1014              <strong>{</strong> <a name="a1015"></a><br />1015                  <strong>$date_counter</strong>++; <a name="a1016"></a><br />1016              <strong>}</strong> <a name="a1017"></a><br />1017          <strong>}</strong> <a name="a1018"></a><br />1018          while<strong>(</strong><strong>$week_counter</strong>&lt;<strong>$number</strong><strong>)</strong>;<a name="a1019"></a><br />1019  <a name="a1020"></a><br />1020          <strong>$itsit</strong>=<a href="http://www.php.net/mktime">mktime</a><strong>(</strong>0<strong>,</strong>0<strong>,</strong>0<strong>,</strong><strong>$month</strong><strong>,</strong><strong>$date_counter</strong><strong>,</strong><strong>$year</strong><strong>)</strong>; <a name="a1021"></a><br />1021          <strong>$format</strong>=<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#method_format">_format</a><strong>(</strong><strong>)</strong>;<a name="a1022"></a><br />1022          <strong>$f</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a><strong>,</strong><strong>$format</strong><strong>)</strong>;<a name="a1023"></a><br />1023          <strong>$format</strong>=<font color="#66cccc">'%'</font>.<strong>$f</strong><strong>[</strong>0<strong>]</strong>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'%'</font>.<strong>$f</strong><strong>[</strong>1<strong>]</strong>.<strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$separator">separator</a>.<font color="#66cccc">'%'</font>.<strong>$f</strong><strong>[</strong>2<strong>]</strong>;                 <a name="a1024"></a><br />1024          <a name="a1025"></a><br />1025          <font color="blue">if</font><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_date">k_date</a><strong>(</strong><font color="#66cccc">'n'</font><strong>,</strong><strong>$itsit</strong><strong>)</strong>!=<strong>$month</strong><strong>)</strong><a name="a1026"></a><br />1026          <strong>{</strong><a name="a1027"></a><br />1027              <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#var$error">error</a>=<font color="#66cccc">'Bad request, try again!!'</font>;<a name="a1028"></a><br />1028              <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodexit_on_error">exit_on_error</a><strong>(</strong><strong>)</strong>;<a name="a1029"></a><br />1029          <strong>}</strong><a name="a1030"></a><br />1030          else<a name="a1031"></a><br />1031          <strong>{</strong><a name="a1032"></a><br />1032              <font color="blue">return</font> <strong>$this</strong><strong>-&gt;</strong><a href="../kronos/Krono.html#methodk_date">k_date</a><strong>(</strong><strong>$format</strong><strong>,</strong><strong>$itsit</strong><strong>)</strong>; <a name="a1033"></a><br />1033          <strong>}</strong><a name="a1034"></a><br />1034      <strong>}</strong>     <a name="a1035"></a><br />1035      <a name="a1036"></a><br />1036      <a name="a1037"></a><br />1037      <font color="#009999">/**</font><a name="a1038"></a><br />1038  <font color="#009999">	* Return the literal value of a unix timestamp or seconds</font><a name="a1039"></a><br />1039  <font color="#009999">	* + i.e.: so 3670 seconds mean 1 hour, 1 minute and 10 seconds.</font><a name="a1040"></a><br />1040  <font color="#009999">	*</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>int </em><font color="#009999"></font><strong>$seconds </strong><font color="#009999">Number of seconds to transform.</font><a name="a1041"></a><br />1041  <font color="#009999">	*</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a1042"></a><br />1042  <font color="#009999">	*</font><font color="#009999"> </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">The seconds transformed in text</font><a name="a1043"></a><br />1043  <font color="#009999">	*/</font><a name="a1044"></a><br />1044      <font color="blue">function</font> <a href="../kronos/Krono.html#methodtime_to_text">time_to_text</a><strong>(</strong><strong>$seconds</strong><strong>)</strong><a name="a1045"></a><br />1045      <strong>{</strong><a name="a1046"></a><br />1046          <font color="blue">if</font><strong>(</strong><strong>$seconds</strong>&lt;=60<strong>)</strong><a name="a1047"></a><br />1047          <strong>{</strong><a name="a1048"></a><br />1048              <strong>$hours</strong>=0;<a name="a1049"></a><br />1049              <strong>$minutes</strong>=0;<a name="a1050"></a><br />1050          <strong>}</strong>        <a name="a1051"></a><br />1051          elseif<strong>(</strong><strong>$seconds</strong>&gt;=60 &amp;&amp; <strong>$seconds</strong>&lt;3600<strong>)</strong><a name="a1052"></a><br />1052          <strong>{</strong><a name="a1053"></a><br />1053              <strong>$hours</strong>=0;<a name="a1054"></a><br />1054              <strong>$minutes</strong>=<strong>$seconds</strong>/60;<a name="a1055"></a><br />1055              <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$minutes</strong><strong>)</strong>;<a name="a1056"></a><br />1056              <strong>$minutes</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a1057"></a><br />1057              <strong>$seconds</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a1058"></a><br />1058          <strong>}</strong><a name="a1059"></a><br />1059          elseif<strong>(</strong><strong>$seconds</strong>&gt;=3600<strong>)</strong><a name="a1060"></a><br />1060          <strong>{</strong><a name="a1061"></a><br />1061              <strong>$r</strong>=<strong>$seconds</strong>/3600;<a name="a1062"></a><br />1062              <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$r</strong><strong>)</strong>;<a name="a1063"></a><br />1063              <strong>$hours</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a1064"></a><br />1064              <font color="blue">if</font><strong>(</strong><strong>$hours</strong>&gt;24<strong>)</strong><a name="a1065"></a><br />1065                  <strong>$hours</strong>-=24;                    <a name="a1066"></a><br />1066  <a name="a1067"></a><br />1067              <strong>$minutes</strong>=&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60;<a name="a1068"></a><br />1068              <strong>$t</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'.'</font><strong>,</strong><strong>$minutes</strong><strong>)</strong>;<a name="a1069"></a><br />1069              <strong>$minutes</strong>=<strong>$t</strong><strong>[</strong>0<strong>]</strong>;<a name="a1070"></a><br />1070              <strong>$seconds</strong>=<a href="http://www.php.net/round">round</a><strong>(</strong>&quot;<font color="#66cccc">0.<strong>$t</strong><strong>[</strong>1<strong>]</strong></font>&quot;*60<strong>)</strong>;<a name="a1071"></a><br />1071          <strong>}</strong>                <a name="a1072"></a><br />1072          <font color="blue">return</font> <strong>$hours</strong>.<font color="#66cccc">'h'</font>.<strong>$minutes</strong>.<font color="#66cccc">'m'</font>.<strong>$seconds</strong>.<font color="#66cccc">'s'</font>;<a name="a1073"></a><br />1073      <strong>}</strong><a name="a1074"></a><br />1074       <a name="a1075"></a><br />1075  <strong>}</strong><a name="a1076"></a><br />1076  <strong>?&gt;</strong></pre>
        <div class="credit">
		    <hr />
		    Documentation generated on Fri, 28 Nov 2003 13:09:41 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.2.3</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>