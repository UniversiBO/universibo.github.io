<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.0.3  (Win32)">
	<META NAME="AUTHOR" CONTENT="Ilias Bartolini">
	<META NAME="CREATED" CONTENT="20030221;19164200">
	<META NAME="CHANGEDBY" CONTENT="Ilias Bartolini">
	<META NAME="CHANGED" CONTENT="20030714;10380300">
	<STYLE>
	<!--
		@page { margin: 2cm }
		P { margin-bottom: 0.21cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Times New Roman", serif; font-size: 22pt }
		H1.cjk { font-size: 16pt }
		H1.ctl { font-size: 16pt }
		H2 { margin-bottom: 0.21cm }
		H2.western { font-family: "Times New Roman", serif; font-size: 16pt; font-style: normal }
		H2.cjk { font-size: 14pt; font-style: italic }
		H2.ctl { font-size: 14pt; font-style: italic }
		H3 { margin-bottom: 0.21cm }
		H3.western { font-family: "Times New Roman", serif; font-size: 12pt }
		TD P { margin-bottom: 0.21cm }
		TH P { margin-bottom: 0.21cm }
	-->
	</STYLE>
</HEAD>
<BODY LANG="it-IT">
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><FONT SIZE=7 STYLE="font-size: 32pt"><B>DataBase
Abstraction Layers<BR>in PHP</B></FONT></P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><FONT SIZE=4 STYLE="font-size: 15pt"><B>Ingegneria
Informatica</B></FONT></P>
<P ALIGN=CENTER><FONT SIZE=4 STYLE="font-size: 15pt"><B>Corso di
Sistemi Informativi-IIB</B></FONT></P>
<P ALIGN=CENTER><FONT SIZE=4 STYLE="font-size: 15pt"><B>a.a.
2002/2003</B></FONT></P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=CENTER><FONT SIZE=3>Ilias Bartolini<BR>mat. 2148063410<BR></FONT><BR><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">1 - Introduzione
il Web, PHP e DBAL</H1>
<P>Per permettere una comprensione migliore degli aspetti legati si
DataBase Abstration Layers in questo capitolo viene fatta
un'introduzione sull'architettura del Web, sui meccanismi alla base
delle applicazioni Web e dove si colloca il linguaggio PHP in questo
contesto.</P>
<H2 CLASS="western">1.1 - Dall'HTML alle applicazioni Web</H2>
<P>Il World Wide Web ha origine all'European Particle Physics
Laboratory (CERN) di Ginevra, nel 1989 dall'idea di Tim Berners-Lee
che riteneva necessario un sistema di comunicazione in forma
ipertestuale che potesse integrare le risorse esistenti in internet.</P>
<P>A partire dal primo Congresso Web tenutosi a Ginevra nel 1994 &egrave;
iniziata ad affermarsi l'esigenza di rendere il web dinamico. L'HTML
di per se &egrave; statico, permette al massimo di inserire in una
pagina un'immagine, una colonna sonora oppure uno spezzone video.
L'HTML non &egrave; un linguaggio di programmazione ma solo di
<I>formattazione dei contenuti</I>, permettendo di controllare come
un testo comparir&agrave; nella finestra del browser.</P>
<P>Con lo svilupparsi di nuove tecnologie si &egrave; iniziato ad
associare dinamicit&agrave; ai contenuti web su due diversi fronti.</P>
<P>Sul lato client si sono creati standard per i documenti come DOM
(Document Object Model), linguaggi per la loro manipolazione come
Javascript e JScript, ed infine di definizione degli stili come il
CSS.<BR>Questi strumenti si sono ridotti a semplici strumenti di
presentazione perch&eacute; non &egrave; possibile controllare con
assoluta certezza il flusso di elaborazione che avviene sui client.</P>
<P>L'elaborazione delle pagine sul lato server &egrave; nata con gli
strumenti messi a disposizione dall'interfaccia CGI, che permetteva
di accedere a processi residenti sul server con lo scopo di creare le
pagine web.<BR>Tra i linguaggi che hanno trovato applicazione in
questo campo ci sono Perl, ASP di Microsoft, le servlet JSP scritte
con linguaggio Java, ed altri tra cui anche PHP.<BR>Lo scopo di
queste tecnologie &egrave; di creare le pagine web in base alle
azioni compiute dell'utente, ai dati residenti sul server o ad altre
risorse disponibili in rete creando vere e proprie <I>applicazioni</I>.</P>
<P>La struttura che si &egrave; andata diffondendo in questi ultimi
tempi vede il processo di elaborazione delle pagine dividersi in 3
livelli distinti: il livello che sta alla base si occupa
dell'archiviazione, mantenimento e recupero dei dati e si appoggia
sempre pi&ugrave; spesso a database relazionali SQL; al secondo
livello sono delegate la logica e il controllo delle funzionalit&agrave;
applicative che costituiscono il <I>core</I> del sistema; l'ultima
parte si occupa della presentazione e tende a mantenere separato
l'aspetto grafico delle pagine dal livello sottostante.</P>
<P><IMG SRC="index_html_5521e81.gif" NAME="Immagine1" ALIGN=LEFT WIDTH=369 HEIGHT=260 BORDER=0><BR CLEAR=LEFT>Questa
struttura permette di separare il lavoro di sviluppo
dell'applicazione, pone la basi per la definizione di vincoli e
interfacce tra i diversi livelli che sono anche alla base di una
buona progettazione di un sistema software.</P>
<H2 CLASS="western">1.2 - Cos'&egrave; PHP</H2>
<P>PHP &egrave; l'acronimo ricorsivo di PHP Hypertext Preprocessor,
attualmente &egrave; il linguaggio web pi&ugrave; diffuso su internet
e permette di creare da semplici script fino ad interi portali
dinamici.<BR>PHP &egrave; un linguaggio interpretato, nato da un
progetto della Apache Software Foundation, l'interprete che ne
costituisce il cuore &egrave; propriet&agrave; della Zend inc.
(<A HREF="http://www.zend.com/">www.zend.com</A>) che ne distribuisce
i sorgenti liberamente.</P>
<P>Tutte le informazioni riguardanti PHP possono essere trovate
partendo dal sito ufficiale. (<A HREF="http://www.php.net/">www.php.net</A>
o meglio sul mirror italiano: <A HREF="http://it.php.net/">it.php.net</A>
)<BR>Sul sito &egrave; presente il manuale in linea ufficiale del
linguaggio ogni pagina del quale &egrave; arricchita dai commenti dei
progettisti, programmatori ed utenti di PHP.</P>
<P>PHP &egrave; un linguaggio in forte evoluzione nel tempo grazie ai
continui contributi della comunit&agrave; Open Source, anche per
questo motivo, il punto di riferimento &egrave; proprio il sito web
ufficiale, esistono anche molte valide guide cartacee al linguaggio,
ma che rischiano di diventare in fretta obsolete.</P>
<P>Le caratteristiche principali del linguaggio sono:</P>
<P>Leggerezza: punto di forza &egrave; proprio la velocit&agrave;
dell'interprete nella valutazione degli script, la Zend fornisce a
pagamento un &ldquo;pre-interprete&rdquo; in grado di migliorare
ulteriormente questa caratteristica.</P>
<P>Portabilit&agrave;: utilizzando piccoli accorgimenti PHP &egrave;
in grado di funzionare su diverse piattaforme (Windows32, Unix, Mac
OS X, AS/400, ecc...) ed &egrave; in grado di appoggiarsi
indifferentemente diversi web server (Apache, Microsoft IIS, Xitami,
OpenHTTPd, ecc...) sfruttando l'interfaccia CGI.</P>
<P>Accesso a basso livello: permette di accedere a basso livello
all'architettura web sottostante, come per esempio la possibilit&agrave;
di modificare manualmente gli header del protocollo HTTP, accesso ai
comandi di sistema, funzioni per gestire socket, ecc...</P>
<P>Come conseguenza della filosofia Open Source, in PHP sono nate
molteplici interfacce, librerie e moduli aggiuntivi (al momento
attuale il manuale ufficiale comprende oltre 113 gruppi di librerie
differenti) che permetto a PHP di lavorare con un'altissima gamma di
applicativi e componenti esterni. Nel web sono altres&igrave;
disponibili una miriade di applicativi e componenti aperti scritti in
PHP per organizzare e creare modularmente sistemi web (oltre 180
packages nel progetto ufficiale pear.php.net, 1200 classi su
phpclasses.org, 2100 progetti opensource su sourceforge.net, ecc..).</P>
<P>Gli aspetti &ldquo;negativi&rdquo; principali del linguaggio sono:</P>
<P>Scarso supporto all' Object Oriented Programming, sono previsti
solo i costrutti rudimentali che permettono l'ereditarieta, mentre
mancano ancora la protezione e incapsulamento degli oggetti.<BR>Questi
ultimi aspetti sono previsti nelle future release del linguaggio (PHP
5 ora in versione beta).</P>
<P>Quasi completa assenza di strumenti di Debugging del codice, si &egrave;
quindi costretti ad eseguire il debugging &ldquo;in-linea&rdquo;.</P>
<P>Come lo descrive Rasmus Lerdorf uno dei padri di PHP:<BR><SPAN STYLE="font-weight: medium">&ldquo;<I>PHP
is not a pure language. It never will be. The problem it solves is
ugly. Ugly problems often require ugly solutions. Solving an ugly
problem in a pure manner is bloody hard. PHP's aim is to make solving
the web problems easy.</I>&rdquo;</SPAN></P>
<P>Per questo motivo in PHP per i programmatori alle prime armi &egrave;
facile commettere errori ed &egrave; facile  trovarsi smarriti nella
miriade di interfacce e librerie che mette a disposizione.</P>
<H2 CLASS="western">1.3 - Cosa sono i DataBase Abstraction Layers</H2>
<P>PHP dispone del supporto per moltissimi sistemi o interfacce per
DBMS: MySQL, PostgreSQL, MsSQL, Oracle, OracleOCI8, Firebird
InterBase, IBM DB2, iODBC, Solid, Sybase, Sybase SQL Anywhere,
Informix, FrontBase, Borland InterBase, FoxPro, Ingres II, Access,
SqlLite, Adabas D, DB++, Hyperwave, dbx, Berkley dbm-DB, ODBC, ADO.</P>
<P>Anche se i primi 4-5 elencati coprono il 99% dei DB utilizzati nel
web da PHP, le intefaccie verso  questi sistemi messe a disposizione
dalle librerie PHP sono state create in tempi diversi e sono molto
differenti tra loro a causa dell'assenza di uno standard.</P>
<P>Come visto nel primo paragrafo sulla base dell'architettura delle
applicazioni a tre livelli &egrave; nata la necessit&agrave; di
rendere indipendente il livello 1 (logico-applicativo) da quello
intermedio (persistenza dei dati).<BR>Infatti nell'ambiente web
<SPAN STYLE="background: transparent"><SPAN STYLE="font-style: normal">accade
spesso che ogni servizi di hosting si appoggino su server DBMS
diversi tra loro e le applicazioni web necessitano di poter
funzionare indipendentemente dal tipo di quest ultimo.</SPAN></SPAN></P>
<P STYLE="font-style: normal"><SPAN STYLE="background: transparent">&quot;Write
once - run anywhere&quot; non &egrave; solo uno slogan Java, ma
questo principio si dovrebbe applicare a tutte le piattaforme aperte
PHP compreso.<BR>Molti business model del settore informatico
richiedono l'indipendenza ripetto al sistema sottostante per
assicurare che il prodotto sia vendibile ad un ampia fetta di
acquirenti. </SPAN>
</P>
<P>L'aspetto vincente di molti framework o pacchetti software per il
web &egrave; stata proprio nella loro portabilit&agrave; e capacit&agrave;
di separare i due livelli (logica applicativa e persistenza) e
proprio in questo ambito si sono diffusi i DataBase Abstraction Layer
(DBAL).</P>
<P>Il loro compito primario &egrave; quello di fornire un'intefaccia
unificata per i sistemi sottostanti, appianare le differenze che
intercorrono tra i vari DBMS e rendere quindi un'applicazione scritta
con PHP  maggiormente portabile.</P>
<P>Altro vantaggio che consegue all'utilizzo dei DBAL e quello di
permettere ai programmatori di imparare un unico set di comandi
utilizzabile su tutti i sistemi e velocizzare la parte di
apprendimento e sviluppo delle applicazioni.</P>
<P>Gli svantaggi dei DBAL sono principalmente di due tipi.<BR>Prima
di tutto un overhead nell'accesso ai Database con un conseguete calo
delle prestazioni che mediamente viene stimato in un 10-30% circa sul
tempo d'esecuzione complessivo di un'applicazione web.<BR>Il secondo
inconveniente &egrave; che per fornire un'interfaccia &ldquo;pulita&rdquo;
non permettono di accedere alle caratteristiche peculiari di alcuni
sistemi che &egrave; necessario nascondere in favore della
portabilit&agrave;.</P>
<P>Con il passare del tempo in PHP sono stati creati numerosi DBAL,
pi&ugrave; o meno diffusi con il risultato che &egrave; andata
creandosi un po' di &ldquo;entropia&rdquo; tra gli
sviluppatori.<BR>Scopo di questa tesina &egrave; studiare e
confrontare alcuni dei pi&ugrave; famosi DBAL per PHP mettendone in
luce aspetti negativi e positivi ed analizzare quali siano le
problematiche ed i requisiti di un buon sistema di DBAL.</P>
<H2 CLASS="western">1.4 - Problematiche e requisiti di un DBAL</H2>
<P><B>Fornire un'unica interfaccia software</B></P>
<P>Compito primario per un DBAL &egrave; definire un'interfaccia
unica di accesso a tutte le funzionalit&agrave; necessarie per
lavorare con un database.</P>
<P>In PHP le interfacce delle diverse librerie non sono nemmeno
standardizzate tra loro, quindi per esempio ci possono essere
chiamate molto differenti tra loro.<BR>Nell'esempio seguente sono
riportati i 3 modi diversi usati dalle librerie rispettivamente di
MySQL, PostgreSQL e Oracle per eseguire le due operazioni pi&ugrave;
comuni, la connessione e l'esecuzione di una query</P>
<P><SPAN ID="Frame9" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: PostgreSQL</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $pg_db_link = <B>pg_connect</B> (&quot;host=$host port=5432
	dbname=$dbname 					user=$user password=$pass&quot;);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: MySQL</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $my_db_link = <B>mysql_connect</B>($host, $user, $pass);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>mysql_select_db</B>($dbname,$db_link);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: Oracle OCI8</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $ora_db_link = <B>OCINLogon</B>( $user, $pass, $dbname );</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione query: PostgreSQL</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $dati = <B>pg_exec</B>($pg_db_link,$query)</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione query: MySQL</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $result = <B>mysql_query</B>($query,$my_db_link);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione query: Oracle OCI8</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $statement = <B>OCIParse</B>($ora_db_link, $query); </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>OCIExecute</B>($statement);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Con questo semplice esempio si pu&ograve;
vedere come anche le operazioni pi&ugrave; semplici sono eseguite da
funzioni con i nomi completamente diversi in cui i parametri e il
loro ordine cambia in tutti e tre i casi.<BR>Per un programmatore che
abbia a che fare con diversi database diventa facile iniziare a
perdere pi&ugrave; tempo sfogliando il manuale che per scrivere
codice.
</P>
<P>Compito dei DBAL &egrave; nascondere queste differenze con
un'unica interfaccia che fornisca un wrapper per tutte le funzioni
specifiche.<BR>Per questo motivo &egrave; importante studiare in
termini di facilit&agrave; d'uso l'architettura del package del DBAL
e la sua interfaccia.</P>
<P><B>Rendere portabili le query SQL</B></P>
<P>La maggior parte dei database relazionali ormai rispettano lo
standard SLQ92 ed alcuni gin gran parte gi&agrave; rispettano le
specifiche lo standard SQL99.<BR>Allo stato attuale in teoria le
query pi&ugrave; semplici INSERT, UPDATE, DELETE, SELECT dovrebbero
essere in grando di essere eseguite agevolmente su tutti i sistemi...
ma naturalmente le insidie si nascondono dappertutto.</P>
<P>In realt&agrave; oltre le definizioni degli standard tutti i DBMS
hanno definito funzionalit&agrave; aggiuntive che li caratterizzano o
li hanno caratterizzati per un certo periodo oppure hanno utilizzato
piccole differenze di sintassi la dove lo standard non era ancora
definito.</P>
<P>Per fare un esempio tipico si pu&ograve; citare il caso del
&ldquo;limit&rdquo; di una query.<BR>Per esempio se si vogliono
prelevare da una tabella le ultime 10 notizie in ordine di data
(operazione comunissima in ambiente web) si possono avere le seguenti
diverse sintassi.</P>
<P><SPAN ID="Frame10" STYLE="float: left; width: 15.74cm; height: 2.17cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>MYSQL:</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	SELECT * FROM NOTIZIE ORDER BY date DESC LIMIT 0,10</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>POSGRESQL:
	</FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	SELECT * FROM NOTIZIE ORDER BY date DESC LIMIT 10 OFFSET 0</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT><BR>Problemi analoghi avvengono per la
rappresentazione delle date, dei valori booleani e il character
escaping delle stringhe.
</P>
<P>Queste differenze delle sintassi diventano di particolare
importanza anche per la sicurezza delle applicazioni e rischiano di
generare problemi di SQLInjection.</P>
<P><B>Database Security e SQL Injection</B></P>
<P>La sicurezza dei Database parte dal design della loro
architettura.<BR>Tutti i database relazionali forniscono strumenti
per gestire i privilegi sulle loro tabelle e per creare delle viste.</P>
<P>Uno dei tipici errori che si commettono &egrave; far accedere gli
applicativi ai database con diritti di super user. Ci&ograve;
permette ad eventuali intrusi che riescano a prendere il controllo
della connessione di poter leggere o eliminare l'intero contenuto del
database.<BR>Apparte il consiglio di non utilizzare un utente con
privilegi superiori a quelli necessari &egrave; bene conoscere come
gli attaccanti possono utilizzare un'applicazione web per eseguire
del codice SLQ arbitrario e come i DBAL possono proteggerci da questo
problema.</P>
<P>Un esempio di SQL injection &egrave; mostrato nell'articolo Secure
PHP Programming di Tomas Oertli
(<A HREF="http://www.zend.com/zend/art/art-oertli.php">www.zend.com/zend/art/art-oertli.php</A>)
ed &egrave; descritto brevemente qui di seguito</P>
<P>Il seguente problema &egrave; stato riscontrato bug in PHP-Nuke
5.x e consiste in una combinazione di sovrapposizione di variabili
globali e una variabile costituente una query SQL non controllata.</P>
<P>Tralasciano i dettagli dell'articolo, si pu&ograve; vedere in uno
script dell'applicazione il seguente codice: 
</P>
<P><SPAN ID="Cornice12" STYLE="float: left; width: 15.74cm; height: 2.59cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 mysql_query(&quot;UPDATE $prefix&quot;._stories. </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   &quot; SET counter=counter+1 where sid=$sid&quot;); </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Per scriver una query arbitraria &egrave;
sufficiente far in modo che <FONT FACE="Courier New, monospace"><FONT COLOR="#280099">$prefix</FONT></FONT>
non venga impostata al suo valore di default ed impostargli un valore
arbitrario.
</P>
<P>Per esempio con una semplice richiesta tramite il seguente URI:
<BR><SPAN STYLE="font-weight: medium"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT FACE="Courier, monospace">http://example/article.php?mainfile=1&amp;sid=1&amp;tid=1&amp;prefix=nuke.authors%20set%20pwd=1%23</FONT></FONT></SPAN></P>
<P>vengono impostate tutte le password degli amministratori al valore
'1' producendo la seguente query:</P>
<P STYLE="font-weight: medium"><SPAN ID="Frame11" STYLE="float: left; width: 15.74cm; height: 1.34cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>MYSQL:</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	UPDATE nuke.nuke_authors set pwd=1#_stories </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   SET counter=counter+1 where sid=1</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Naturalmente tutto ci&ograve; che segue il
carattere # viene considerato un commento da MySQL e quindi ignorato.
</P>
<P>Una prima protezione si ottiene mantenendo la direttiva
<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">gpc_magic_quotes=on</FONT></FONT>
nel file php.ini<BR>Quando questa direttiva &egrave; attivata, in
tutte le variabili che provengono dall'input (GET, POST, COOKIE) PHP
aggiunge automaticamente a del caratteri \ (backslash) di fronte ai
caratteri ' (quote)  '' (double-quote) e \ (backsalsh) in modo
permettere che siano inseriti senza problemi come valori di una query
SQL.</P>
<P STYLE="font-weight: medium">Purtroppo l'escaping dei caratteri
speciali non &egrave; uguale per tutti i database quandi anche in
questo caso &egrave; compito di tutte le librerie DBAL fornire questa
funzionalit&agrave; nascondo i dettagli con cui &egrave;
implementata.</P>
<P><B>Gestione delle transazioni</B></P>
<P STYLE="font-weight: medium">Altra funzionalit&agrave; dei DBMS
molto utilizzata sono le transazioni.<BR>Se si da un'occhiata alla
lista di tutti i DBMS per cui esiste un'interfaccia in PHP si pu&ograve;
vedere che alcuni di essi anche molto diffusi nelle loro prime
versiono non gestivano le transazioni come ad esempio MySQL e
SQLLite.<BR>Alcune delle librerie DBAL pi&ugrave; evolute riescono ad
implementare in maniera rudimentale il meccanismo delle transazioni
bloccando le query che accedono a tabelle che sono gi&agrave; in
uso.<BR>Quando il DBMS invece ha al suo interno un pi&ugrave;
efficace meccanismo per le transazioni si appogiano a questo.</P>
<P><B>Error Logging ed Handling</B></P>
<P>PHP dispone di alcune direttive e funzioni che permettono di
impostare il livello di reporting degli errori (notice, warning,
fatal error o parse error), di personalizzarne il formato e scegliere
differenti handler.</P>
<P>In fase di implementazione del codice &egrave; sempre buona norma
tenere di default gli errori visualizzati sul browser ed impostare
all'inizio di ogni script <FONT FACE="Courier New, monospace"><FONT COLOR="#280099">error_reporting(E_ALL)</FONT></FONT>,
in questo modo &egrave; possibile notare fin da subito anche piccoli
warning e porvi rimedio.</P>
<P>In fase di produzione &egrave; meglio non visualizzare questi
errori sul browser in quanto spesso possono contenere informazioni
sulla struttura delle directory o posizione degli script.</P>
<P>Tutte le funzioni di accesso al database hanno la possibilit&agrave;
di generare un errore. <BR>Purtroppo in PHP non esiste ancora il
meccanismo delle eccezioni (sar&agrave; disponibile da PHP5) quindi
risulta di particolare importanza il meccanismo con cui i DBAL
restituiscono le situazioni di errore che necessita di semplicit&agrave;
ed estrema flessibilit&agrave; per poter essere adattato a tutti i
stili di applicazione e alla situazione in cui ci si trova.</P>
<P>Sia attraverso la configurazione di php.ini che attraverso le
funzioni di Error Handling e Logging
(<A HREF="http://www.php.net/manual/en/ref.errorfunc.php">www.php.net/manual/en/ref.errorfunc.php</A>)
&egrave; possibile definire delle diverse risorsa di output degli
errori, definire nuovi tipi di errore o creare i propri handler per
la gestione di ogni tipo di errore con i quali &egrave; possibile per
esempio inviare dei messaggi personalizzati, salvare gli errori su un
file di log, inviare delle notifiche in e-mail, ecc...<BR>Alcune
librerie forniscono completa integrazione con questi meccanismi, in
particolare si vedr&agrave; in seguito che &egrave; ormai diventato
uno standard l'uso della classe PEAR::Error che permette di ottenere
delle informazioni complete sullo stato dell'applicazione in fase di
debbugging.</P>
<P><B>Rendere portabili le descrizioni delle tabelle e dei tipi di
dato</B></P>
<P STYLE="font-weight: medium">L'ultima grossa problematica che resta
da affrontare per redere un'applicazione davvero portabile &egrave;
nella definizione almeno delle tabelle del suo database.</P>
<P STYLE="font-weight: medium">Se con il rispetto degli standard
SQL92 e SQL99 si &egrave; riusciti ad uniformare la sintassi delle
query principali, purtroppo esistono ancora enormi differenze sui
tipi di dati messi a disposizione dai DBMS e da modo in cui vengono
definite le loro tabelle.<BR>Basti pensare ai diversi modi di
descrive indici chiavi, alcuni database supportano i controlli sulle
foreign key, altri non implementano nemmeno le sequenze.</P>
<P STYLE="font-weight: medium">In mezzo a tutta questa confusione il
creatore di un sistema di DBAL ha tentato di fare ordine e creare una
definizione XSD per dare la descrizione dello schema relazionale di
un database tramite XML.</P>
<P STYLE="font-weight: medium">Come si vedr&agrave; in seguito,
questo sistema &egrave; ancora agli albori e presenta ancora molte
&ldquo;inefficienze&rdquo;... purtroppo a quanto risulta da alcune
ricerce effettuate tra i grossi costruttori di DBMS o organismi di
standardizzazione ancora nessuno ha tentato di affrontare questa
tematica.</P>
<P><B>Tentare di creare uno standard dal basso?</B></P>
<P>Come si &egrave; potuto vedere molte delle problematiche nascono
dalla assenza di una standardizzazione.</P>
<P>Dando un'occhiata al mondo Java si pu&ograve; osservare che la Sun
&egrave; riuscita ad imporre un suo standard , le JDBC a cui poi
tutti i prduttori di DBMS si sono adattati fornendo i loro
drivers.<BR>Il problema fondamentale di PHP &egrave; che non esiste
nessuno con il potere economico-politico della Sun per imporre uno
standard.<BR>I DBAL nascono semplici gruppi di appassionati
programmatori, quindi in questo caso sono loro a dover creare delle
librerie che nascondano le differenze e non i produttori a doversi
adattare alle loro esigenze.</P>
<P>Dalle ricerche in rete, dalla lettura di alcuni articoli e dai
confronti su gruppi di discussione sono emersi quattro principali
&ldquo;candidati&rdquo; DBAL per PHP che verranno analizzati e
confrontati nelle prossime pagine:</P>
<UL>
	<LI><P>PEAR::DB &ndash; Attualemente il pi&ugrave; diffuso sistema
	DBAL, fa parte delle librerie ufficiali PEAR (Php Extensions and
	Application Repository) che viene inclusa in alcune distribuzioni di
	PHP.</P>
	<LI><P>ADOdb &ndash; Ispirato alle interfacce di Microsoft ADO &egrave;
	attualmente il principale concorrente di PEAR::DB in termini di
	diffusione.</P>
	<LI><P>Metabase &ndash; Sistema creato dal programmatore Manuel
	Lemos autore di altri famosi packages PHP molto usati, si distinge
	per la ricchezza di features, ottima documentazione e un sistema per
	la rappresentazione degli schemi relazionali tramite XML.</P>
	<LI><P>PEAR::MDB &ndash; Nuovo sistema nato da pochi mesi
	dall'unione dei team si sviluppo di PEAR::DB e Metabase con lo scopo
	di unire i vantaggi dei due sistemi.</P>
</UL>
<P>I criteri di valutazione dei sistemi si baseranno principalmente
sui seguenti fattori:</P>
<P>&ndash; performance,<BR>&ndash; grado di portabilit&agrave;,<BR>&ndash;
features supportate,<BR>&ndash; architettura ed interfacce del
package,<BR>&ndash; semplicit&agrave; d'uso,<BR>&ndash; bont&agrave;
della documentazione.</P>
<H1 CLASS="western" STYLE="page-break-before: always">2 - DataBase
Abstraction Layers per PHP</H1>
<H2 CLASS="western">2.1 - PEAR::DB</H2>
<P>PEAR::DB &egrave; allo stato attuale la libreria di Database
Abstraction pi&ugrave; diffusa nei progetti PHP, pu&ograve; essere
installata facilmente su tutti i sistemi utilizzando l'apposta
utility PEAR che anche se molto semplice da utilizzare pu&ograve;
risultare invadente sul sistema su cui &egrave; installata.
<BR>Alternativamente il codice sorgente pu&ograve; essere scaricanto
da <A HREF="http://pear.php.net/package-info.php?pacid=46">http://pear.php.net/package-info.php?pacid=46</A>
.</P>
<P ALIGN=LEFT>PEAR::DB &egrave; stata la prima libreria a fornire
un'interfaccia completamete OO per l'accesso ai database.<BR>Dal
punto di vista architetturale l'albero delle classi &egrave; quello
che poi verr&agrave; presa d'esempio da tutti i successivi sistemi.</P>
<P><SPAN ID="Frame1" STYLE="float: left; width: 9.92cm; height: 4.79cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>DB</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>DB_common</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_mssql</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_mysql</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+...</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_oci8</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_odbc</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_pgsql</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>DB_result</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>DB_row</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>DB_storage</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PEAR_Error</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	+-- DB_Error</FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>L'accesso avviene tramite la classe DB che
fornisce i metodi per la configurazione e creazione di un oggetto con
intefaccia DB_common, a seconda del tipo di database utilizzato al
livello sottostante verr&agrave; utilizato il driver specifico.<BR>I
risultati delle query sono di tipo DB_result e DB_row che dispongono
dei metodi necessati alla loro manipolazione.<BR>Come in tutte le
classi PEAR la gestione degli errori avviene tramite PEAR_Error.
</P>
<P><SPAN ID="Frame2" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: $db_type &egrave; il tipo di driver da utilizzare</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>$db_link</B> = <B>DB::connect</B>(
	&quot;$db_type://$user:$passwd@$host/$db_name&quot; );</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 if ( <B>DB::isError</B>($db_link) ) echo $db_link-&gt;<SPAN STYLE="font-weight: medium">getMessage()</SPAN>;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esempio setting impostazioni</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>setFetchMode</B>(DB_FETCHMODE_ASSOC);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione di una query</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $sql = 'SELECT * FROM utente WHERE livello=100;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>$result</B> = <SPAN STYLE="font-weight: medium">$db_link</SPAN><B>-&gt;query($sql);</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if ( DB::isError($result) ) echo $result-&gt;getMessage();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //manipolazione del risultato</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 while ( $row = $result-&gt;<B>fetchrow()</B>  ) {</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $row['id_utente'];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $row['username'];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //liberazione delle risorse</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $result-&gt;<B>free()</B>;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>disconnect()</B>;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Vediamo un breve esempio delle operazioni del
ciclo base &ldquo;connessione &ndash; esecuzione della query &ndash;
manipolazione del risultato &ndash; liberazione delle risorse&rdquo;
</P>
<P>In particolare si noti il sistema per eseguire la connessione
basato sul <B><I>Data Source Name</I></B> (DSN) che ormai &egrave;
diventato uno standard per la descrizione delle risorse dati ed &egrave;
stato esteso anche ai sistemi di directory.<BR>Il DSN &egrave;
costituito da una stringa con sintassi del tipo 
<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">&quot;$db_type://$user:$passwd@$host/$db_name&quot;</FONT></FONT></FONT>
che ricorda gli URI web.<BR>Dato il solo DSN in ingresso PEAR::DB &egrave;
capace di connettersi alla risorsa dati desiderata qualsiasi sia il
suo tipo o il particolare protocollo utilizzato per accedervi.</P>
<P>PEAR::DB &egrave; in grado di gestire <B><I>transazioni</I></B>
che vengono supportate in modo 'rudimentale' anche su database che
non le implementano attraverso appositi metodi che forniscono accesso
alle funzionalit&agrave; in modo portabile.<BR>Implementa l'utilizzo
di sequenze anche su database che non le supportano in modo
nativo.<BR>Infine dispone di interfacce per l'accesso diretto agli
oggetti del database di tipo BLOB e CLOB.</P>
<P>Riguardo alla portabilit&agrave; delle query SQL sono messi a
disposizione dei metodi per eseguire il <B><I>limit</I></B> di una
query per recuperarne i primi n risultati e per eseguire l'<B><I>escaping</I></B>
dei caratteri speciali nelle costanti testuali la cui sistassi SQL
differisce leggermente a seconda del database utilizzato.</P>
<P>Il pregio maggiore di PEAR::DB &egrave; un'interfaccia molto
semplice e pulita, dopo aver visto un esempio si pu&ograve;
immediatamente operativi e la manualistica &egrave; molto
semplice.<BR>La documentazione allegata al package &egrave;
praticamente nulla, ma attraverso PHPDocumentor si pu&ograve;
generare una ottima API reference a partire dai commenti nel codice
(si pu&ograve; vedere ad esempio:
<A HREF="http://www.brainetwork.net/my_docs/DB_docs">http://www.brainetwork.net/my_docs/DB_docs</A>
)<BR>In rete &egrave; possibile trovare un'enorme quantit&agrave; di
tutorial ed articoli che descrivono l'utilizzo di questo package.</P>
<P>I DBMS attualmente supportati sono: dBase, Firebird Interbase,
Borland Interbase, Informix, MsAcces, MsSQL, PostgeSQL, SqlLite,
MySQL, Oracle OCI8, IBM DB2, ODBC, Sybase.</P>
<P>Il pacchetto PEAR::DB &egrave; rilasciato secondo la PHP Licence</P>
<H2 CLASS="western" STYLE="page-break-before: always">2.2 - ADOdb</H2>
<P>ADOdb &egrave; una libreria per PHP ispirata a Microsoft ADO
creata da una comunit&agrave; molto attiva di sviluppatori. Tutte le
informazioni riguardanti ADOdb, i pacchetti del codice sorgente e la
documentazione possono essere trovate a partire dal sito
<A HREF="http://php.weblogs.com/ADODB">http://php.weblogs.com/ADODB</A>
</P>
<P>Le interfacce sono molto simili a MicrosoftADO e quindi risulta
molto semplice l'appredimento per chi conosce gi&agrave; questa
libreria.</P>
<P>L'architettura interna non &egrave; completamente Objet Oriented
ma resta molto simile a quella di PEAR::DB con una classe
ADOConnection per rappresentare la connessione al database che viene
ereditata dai drivers specifici delle piattaforme sottostanti e un
oggetto ADORecordSet per accedere ai risultati delle query.</P>
<P>Vediamone un piccolo esempio delle operazioni di base:</P>
<P><SPAN ID="Frame3" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: $db_type &egrave; il tipo di driver da utilizzare</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>$db_link</B> = <B>ADONewConnection</B>( $db_type );</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>Connect</B>($host, $user, $pass, $db_name);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 if ( !db_link ) echo $db_link-&gt;<B>ErrorMsg</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esempio setting impostazioni</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>SetFetchMode</B>(ADODB_FETCH_ASSOC);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 </FONT></FONT></FONT>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione di una query</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $sql = 'SELECT * FROM utente WHERE livello=100';</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 $result = $db_link-&gt;<B>Execute</B>($sql);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 if ( !$result ) echo $result-&gt;<B>ErrorMsg</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //manipolazione del risultato</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 while ( !$result-&gt;<B>EOF</B> ) {</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $result-&gt;fields['id_utente'];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $result-&gt;fields['username'];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   $result-&gt;<B>MoveNext</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //liberazione delle risorse</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $result-&gt;<B>Close()</B>;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>Close()</B>;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>La gestione degli errori &egrave; fatta tramite
l'<B><I>ADOdb Error Handler</I></B> che dispone opzionalmente di un
wrapper che lo rende identico a PEAR::Error.<BR>In maniera analoga &egrave;
possibile utilizzare un'interfaccia alternativa per eseguire la
connessione nello stile PEAR::DB tramite il DSN
</P>
<P>Di particolare interesse &egrave; il sistema per gestire le
transazioni che dispone di una doppia interfaccia.<BR>La prima
permette di eseguire su tutti i sistemi transazioni in modo
tradizionale.<BR>La seconda <B><I>Smart Transaction</I></B> utilizza
internamente l'ADOdb Error Handler e permette di non doversi
preoccupare del check degli errori. Ad ogni esecuzione di una query
SQL, senza bisogno di inserire espliciti comandi di controllo, viene
verificato se sono avvenuti errori ed in caso affermativo eseguito
automaticamente il rollback della transazione.</P>
<P><SPAN ID="Frame4" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //metodo tradizionale</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>BeginTrans</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $ok = $db_link-&gt;<B>Execute</B>($sql_query_1);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 if ( !$ok ) { $db_link-&gt;<B>RollbackTrans</B>(); return; }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $ok = $db_link-&gt;<B>Execute</B>($sql_query_2);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 if ( !$ok ) { $db_link-&gt;<B>RollbackTrans</B>(); return; }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 $db_link-&gt;<B>CommitTrans</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P><SPAN ID="Frame5" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //metodo Smart Transaction</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>StartTrans</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>Execute</B>($sql_query_1);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>Execute</B>($sql_query_2);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 $db_link-&gt;<B>CompleteTrans</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Nell'accesso ai risultati delle query ADOdb
permette di ottenere informazioni relative ai tipi di dato
descrivendoli mediante dei <B><I>MetaTipi</I></B>.
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>C</STRONG>: Character
	fields (eg: that should be shown in a &lt;input type=&quot;text&quot;&gt;
	tag ) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>X</STRONG>: TeXt, large
	text fields (eg: that should be shown in a &lt;textarea&gt;)</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>B</STRONG>: Blobs, or
	Binary Large Objects. (Typically images or generic files.) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>D</STRONG>: Date field 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>T</STRONG>: Timestamp
	field 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>L</STRONG>: Logical field
	(boolean or bit-field) 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>I</STRONG>: Integer field 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><STRONG>N</STRONG>: Numeric field.
	Includes autoincrement, numeric, floating point, real and integer. 
	</P>
	<LI><P><STRONG>R</STRONG>: Serial field. Includes serial,
	autoincrement integers.</P>
</UL>
<P>Tra le features aggiuntive supportate c'&egrave; la disponibilit&agrave;
di diversi filtri per l'esportazione dei dati nei formati CSV, XML o
tabelle Html e un driver per PHP che permette di salvare le sessioni
utente su database invece che su filesystem.</P>
<P>La documentazione allegata al pacchetto &egrave; di buona qualit&agrave;:
ottimo il tutorial introduttivo, un po' peggiore la descrizione delle
API<BR>Sul sito internet ufficiale pu&ograve; essere trovata anche il
documento molto interessante &ldquo;Guide to write portable SQL&rdquo;
che descrive e spiega alcuni esempi SQL per migliorare la portabilit&agrave;
delle proprie applicazioni usando ADOdb.</P>
<P>I DBMS attualmente supportati sono: FrontBase SQL, Firebird
Interbase, Borland Interbase, Informix, MsAcces, MsSQL, PostgeSQL,
MySQL, Oracle OCI8, IBM DB2, ODBC, Sybase.</P>
<P>Il pacchetto ADOdb &egrave; rilasciato con doppia licenza BSD e
LGPL.</P>
<H2 CLASS="western" STYLE="page-break-before: always">2.3 - Metabase</H2>
<P>Metabase &egrave; un package molto maturo nato oltre 5 anni fa gi&agrave;
su PHP3 dal lavoro di Manuel Lemos gi&agrave; autore di altri famosi
package per PHP.<BR>Metabase costituisce il primo tentativo di
astrarre in modo completo il comportamento del database dalla
struttura dell'applicazione.<BR>Con i DBAL visti finora &egrave;
possibile eseguire le query pi&ugrave; comuni come SELECT, INSERT;
UPDATE con la garanzia che apparte piccoli dettagli le sintassi di
queste query siano portabili su quasi tutti i sistemi.<BR>Nei casi in
cui questo non &egrave; possibile come il &ldquo;limit&rdquo; o le
&ldquo;transazioni&rdquo; intervengono delle funzioni particolari
delle librerie.</P>
<P>Nessuno dei DBAL precedenti per&ograve; garantisce la portabilit&agrave;
completa delle strutture delle tabelle dei database, le query del
tipo CREATE TABLE, ALTER TABLE hanno sintassi troppo differenti a
seconda del sistema con cui si lavora ed inoltre bisogna considerare
le grosse differenze tra i set dei &ldquo;tipi di dato&rdquo; che
gestiscono i vari database.</P>
<P>Metabase &egrave; stato il primo package ad affrontare questo
problema fornendo un sistema per descrivere gli schemi dei database
tramite XML.<BR>Il manuale di Metabase si apre proprio con un
tutorial &ldquo;Designing a database&rdquo; su come utilizzare questo
metodo per decrivere le tabelle, indici, sequenze e quant altro
necessario alla creazione di un database.</P>
<P>Purtroppo i tipi di dato per essere rispettati da tutte le
architetture sono molto generici nella loro descrizione: Text,
Boolean, Integer, Decimal, Float, Date, Time, Time stamp, Large
object.<BR>In particolare nelle prove effettuate &egrave; stato
verificato che anche se vengono specificati dei limiti di lunghezza
nei campi testuali i drivers sia per PostgreSQL che MySQL non li
implementano utilizzando il tipo varchar() ma dei generici campi di
testo.<BR>Metabase garantisce completa portabilit&agrave; delle query
fornendo una grossa quantit&agrave; di metodi per eseguire le
conversioni per ogni tipo di dato all'interno delle query ed eseguire
l'esacaping corretto dei caratteri delle costanti.</P>
<P>Viene riportato qui sotto un piccolo esempio molto intuitivo della
descrizione di una tabella:</P>
<P><SPAN ID="Frame6" STYLE="float: left; width: 15.74cm; height: 11.03cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;?xml
	version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;database&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;name&gt;test&lt;/name&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;create&gt;1&lt;/create&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;table&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;name&gt;users&lt;/name&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;declaration&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;field&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	        &lt;name&gt;user_id&lt;/name&gt; &lt;type&gt;integer&lt;/type&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	        &lt;default&gt;0&lt;/default&gt; &lt;notnull&gt;1&lt;/notnull&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;/field&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;field&gt; &lt;name&gt;user_name&lt;/name&gt;
	&lt;type&gt;text&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;field&gt; &lt;name&gt;passwd&lt;/name&gt; &lt;type&gt;text&lt;/type&gt;
	&lt;/field&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;index&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	       &lt;name&gt;users_id_index&lt;/name&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	       &lt;unique&gt;1&lt;/unique&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	       &lt;field&gt; &lt;name&gt;user_id&lt;/name&gt; &lt;/field&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	     &lt;/index&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;/declaration&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;/table&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;sequence&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;name&gt;user_id&lt;/name&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;start&gt;1&lt;/start&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	   &lt;on&gt; &lt;table&gt;users&lt;/table&gt;
	&lt;field&gt;user_id&lt;/field&gt; &lt;/on&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 &lt;/sequence&gt;</B></FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#b80047"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;/database&gt;</B></FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>L'architettura di Metabase oltre alle parti gi&agrave;
viste negli altri DBAL dispone di uno &ldquo;Schema Parser&rdquo; che
non &egrave; altro che la specializzazione di un Paser XML.<BR>Lo
Schema Parser genera una struttura dati che viene interpretata dal
Database Manager che a sua volta si appoggia su driver specifici a
seconda del DBMS utilizzato per creare il database vero e proprio.
</P>
<P>Il Database Manager oltre a creare la struttura &egrave; in grado
di apportare modifiche ad un database presistente confrontando due
successivi file XML della loro descrizione.<BR>Infine &egrave; in
grado di eseguire il reverse engineering di un database nel formato
XML, anche se a dir la verit&agrave; facendo un prova su PostgreSQL i
risultati sono stati molto scarsi se il database di partenza non &egrave;
stato creato precedentemente con lo stesso Metabase.</P>
<P>Uno dei problemi emersi dalle discussioni in rete su Metabase &egrave;
la sua eccessiva pesantezza. Trattandosi di un package nato per
compatibilit&agrave; anche verso PHP3 disponde di una doppia
intrefaccia per l'accesso ad ogniuna delle sue features una Object
Oriented ed una sotto forma di libreria di funzioni.</P>
<P>Vediamone un piccolo esempio delle operazioni di base:</P>
<P><SPAN ID="Frame7" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: $db_type &egrave; il tipo di driver da utilizzare</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_init_array = array('Type'        =&gt; $dbtype,</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	                        'User'        =&gt; $user,</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	                        'Password'    =&gt; $pass,</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	                        'Host'        =&gt; $host,</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	                        'IncludePath' =&gt;
	'/lib/directory/metabase/');</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $error = <B>MetabaseSetupDatabaseObject</B>($db_init_array,&amp;$db_link);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if ($error!='') echo $error;</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">
	 $db_link-&gt;<B>SetDatabase</B>($dbname);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione di una query</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $sql = 'SELECT id_utente, username FROM utente WHERE livello=100';</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $result = $db_link-&gt;<B>Query</B>($sql);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if (!$result) echo 'Messaggio d\'errore';</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //manipolazione del risultato</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $num_rows = $db_link-&gt;<B>NumberOfRows</B>($result);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 for ( $i=0 ; $i&lt;$num_rows ; $i++ ) {</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   $db_link-&gt;<B>FetchResultArray</B>($result, $row, $i);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $row[0];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $row[1];</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //liberazione delle risorse</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>FreeResult</B>($result);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>CloseSetup</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Metabase nato prima di PEAR::DB non permettere
di eseguire la connessione attraverso il sistema DNS ma come si pu&ograve;
vedere nell'esempio &egrave; necessario creare una struttura dati
contenente tutte le informazioni sulla connessione da eseguire.
</P>
<P>Un'altra pecca di questo sistema &egrave; l'impossibilit&agrave;
di restituire una tupla del risultato su un array associativo
contenete la descrizione dei campi come chiavi, pratica molto in uso
tra i programmatori. L'accesso pu&ograve; avvenire solo ricordando
l'ordine con cui sono selezionati i campi nella query.</P>
<P>Le transazioni sono gestite in maniera simile a PEAR::DB.</P>
<P>La documentazione &egrave; allegata al paccheto dei sorgenti &egrave;
molto ricca ed esauriente ma non brilla in chiarezza ne per la sua
organizzazione un po' confusionale.</P>
<P>I database supportati sono attualmente: Firebird Interbase,
Borland Interbase, Informix, MsAcces, MsSQL, PostgeSQL, MySQL, Oracle
OCI8, IBM DB2, ODBC, Mini-SQL, SqlLite.</P>
<P>Metabase &egrave; rilasciato con licenza BSD</P>
<P><BR><BR>
</P>
<H2 CLASS="western">2.4 - PEAR::MDB</H2>
<P>PEAR::MDB &egrave; un progetto molto giovane nato dall'unione di
PEAR::DB e Metabase a quanto pare avvenuta in seguito ad un incontro
alla PHPConference 2001fall tra gli autori dei due pacchetti.</P>
<P>Si voleva creare un DBAL con lo stesso grado di astrazione di
Metabase ma che avesse  un'iterfaccia completamente OO, un'API pi&ugrave;
semplice, e che avesse performance pi&ugrave; accettabili rispetto a
quelle di Metabase.</P>
<P>MDB fa proprio questo: combina il meglio di PEAR::DB e di
Metabase, molto lavoro &egrave; stato svolto nell'unificare le
interfacce dei due sistemi  mantenendole il pi&ugrave; semplice ed
intuitiva possibile senza avere problemi di performance... e, a detta
degli autori, le prestazioni sono molto migliori rispetto a Metabase.</P>
<P>Per metterlo alla prova &egrave; necessario installare il package
con il solito installer PEAR</P>
<P>L'architettura del package ora &egrave; leggermente cambiata, non
esiste pi&ugrave; un oggetto 'risultato'.<BR>Questa scelta &egrave;
stata fatta per recuperare un po' di performance ed alleggerire la
manipolazione dei risultati.</P>
<P>Vediamone un piccolo esempio delle operazioni di base:</P>
<P><SPAN ID="Frame8" STYLE="float: left; width: 15.74cm; height: 3.97cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //connessione: $db_type &egrave; il tipo di driver da utilizzare</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link = MDB::<B>connect</B>(
	&quot;$dbtype://$user:$pass@$host/$dbname&quot; );</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if ( MDB::isError($db_link) ) echo $db_link-&gt;<SPAN STYLE="font-weight: medium">getMessage</SPAN>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esempio setting impostazioni</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>setFetchMode</B>(MDB_FETCHMODE_ASSOC);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //esecuzione di una query</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $sql = 'SELECT id_utente, username FROM utente WHERE livello=100';</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $result = $db_link-&gt;<B>query</B>($sql);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if ( MDB::isError($result) ) echo $result-&gt;getMessage();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //manipolazione del risultato</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 while ( $row = $db_link-&gt;<B>fetchInto</B>($result) ) {</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $row['id_utente']<BR>    echo $row['username']</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#666666"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //liberazione delle risorse</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>freeResult</B>($result);</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $db_link-&gt;<B>disconnect</B>();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Come si pu&ograve; vedere dall'esempio molte
interfacce sono molto simili a quelle di PEAR::DB.
</P>
<P>Da PEAR::DB vengono inoltre ereditate molte altre
caratteristiche:<BR>Identico &egrave; il metodo per eseguire la
connessione basato sul <SPAN STYLE="font-weight: medium"><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal">Data
Source Name</SPAN></SPAN></SPAN>.<BR>La gestione degli errori si
appoggia sempre su PEAR::Error come ormai standard in tutte le
librerie appartenenti a PEAR.<BR>La gestione delle transazioni &egrave;
identica a quella di PEAR::DB, cos&igrave; come il e</P>
<P>Da Metabase invece sono presi il sistema di Database Manager
basato su XML e la completa astrazione sui tipi di dato. I formati di
descrizione sono identici in modo da pemettere anche una semplice
transizione per chi utilizza Metabase.<BR>Sempre identico a Metabase
&egrave; il sistema delle Prepared Queries che permette di
velocizzare l'esecuzione di pi&ugrave; query con struttura sintattica
simile tra loro.<BR>Le differenze sono solo al livello sottostante,
il parser XML  utilizzato e il PEAR::XML_Parser ma &egrave; in
previsione l'utilizzo del Parser che sar&agrave; integrato in PHP5
con un notevole incremento delle prestazioni del Database Manager.</P>
<P>Per chi volesse affrontare una lenta transizione a partire da
Metabase o da PEAR::DB verso PEAR::MDB sono state create delle classi
wrapper che espongono all'esterno interfacce indentiche a quelle dei
due sistemi precedentemente indicati.</P>
<P>La documentazione come nel caso di PEAR::DB pu&ograve; essere
generata utilizzando PHPDocumentor, anche se in questo caso il
risultato &egrave; leggermente peggiore.<BR>La documentazione
riguardante il Database Manager &egrave; stata ricopiata
completamente da Metabase, ma contiene in questo caso delle
inesattezze perch&egrave; rimasta aggiornata alla vecchia
interfaccia.</P>
<P>L'unico difetto di MDB &egrave; la sua giovent&ugrave;. 
</P>
<P>I driver che vengono indicati come disponibili nella
documentazione sono: MySQL, PostgreSQL, Oracle OCI8, Frontbase,
Querysim, Interbase, Firebird, MsSQL ma in realt&agrave; solo i primi
due sono stati sviluppati completamente e testati in modo adeguato.</P>
<P>Nonostante questo durante l'utilizzo nelle prove stati riscontrati
un paio di piccoli bug nel driver per PostgreSQL, che anche se
semplicemente risolvibili hanno creato grosse perdite di tempo.</P>
<P>PEAR::MDB &egrave; rilasciato con licenza BSD.</P>
<P><BR><BR>
</P>
<H2 CLASS="western">2.5 - Prestazioni a confronto</H2>
<P>Nelle prova si voleva innzitutto tenstare i DBAL su diverse
piattaforme per provare la loro l'effettiva possibilit&agrave; di
lavorare in ambienti diversi, quindi si &egrave; deciso di eseguire
tutte le prove con i due RDBMS per PHP pi&ugrave; diffusi: PostgreSQL
e MySQL.<BR>Purtroppo si &egrave; dovuto utilizzare PostgreSQL in
ambiente Windows anche se il suo ambiente nativo sono i sistemi
Unix.<BR>Si aveva intenzione di lavorare in remoto su una macchina
server Linux ma in seguito ad un crash di quest ultima &egrave; stato
impossibile andare a riavviarla, quindi per i test &egrave; stato
utilizzato un desktop pentium3 (1000mhz, 384MB RAM) con sistema
operativo Windows2000.<BR>A causa di questo inconveniente non
risultano tra loro confrontabili in valore assoluto le prestazioni
ottenure sui due diversi RDBMS, ma &egrave; stato comunque possibile
ottenere dati significativi per confrontare tra loro i DBAL e
rendersi conto delle effettive capacit&agrave; di lavorare su
differenti sistemi.</P>
<P>Per le prove si &egrave; lavorato con un database creato tramite
il formato XML del Database Manager di MDB/Metabase tipico di un
ambiente web, in particolare ci si &egrave; ispirati ad alcune
tabelle del del database progetto UniversiBO in modo da poter
importare anche alcuni dati significativi per tipo e quantit&agrave;.
<BR>Lo schema completo privo dei contenuti &egrave; riportato in
appendice.<BR>Per ogni test sono stati eseguiti una serie di
operazioni di acecsso al database, per confronto lo stesso script di
test &egrave; stato scritto usando direttamente le librerie
rispettivamente di PosgreSQL e MySQL. Il codice del test scritto
utilizzando i DBAL naturalmente &egrave; stato utilizzato su entrambe
le piattaforme senza neccessit&agrave; di compiere modifiche</P>
<P>Ogni test &egrave; stato eseguito 20 volte e viene riportato in
queste pagine solo il valore medio dei risultati ottenuti.</P>
<P><BR><BR>
</P>
<H3 CLASS="western">2.5.1 - Test 1: Overhead di conessione</H3>
<P>Il primo test eseguito consiste nel valutare l'overhead di una
semplice connessione al database.<BR>PHP &egrave; un linguaggio
interpretato, l'efficienza di un'applicazione &egrave; data anche
dalla snellezza del suo codice.</P>
<P>Il tempo necessario ad eseguire una richiesta web dovrebbe essere
nell'ordine di pochi decimi di secondo. Includere un DBAL nella
propria applicazione significa ad ogni richiesta web dover fare il
parsing dell'intero codice della libreria.</P>
<P>Questo primo test ha l'obbiettivo di dare una stima in valore
assoulto dell'overhead di questa inclusione del codice per poterla
confrontare almeno come ordine di grandezza con il tempo di una
richiesta web.</P>
<P>Per l'inconveniente descritto all'inizio di questo paragrafo
purtroppo non sono significativi in questo senso valori registrati
con PostgreSQL, ma possono essere confrontati tra loro i diversi
DBAL.</P>
<P><IMG SRC="index_html_1296b5d7.gif" NAME="Object1" ALIGN=LEFT WIDTH=342 HEIGHT=102><BR CLEAR=LEFT><BR><BR>
</P>
<P><IMG SRC="index_html_m5e3bf99e.gif" NAME="Object2" ALIGN=LEFT WIDTH=411 HEIGHT=252><BR CLEAR=LEFT><BR><BR>
</P>
<P><IMG SRC="index_html_m31cf10cc.gif" NAME="Object3" ALIGN=LEFT WIDTH=408 HEIGHT=255><BR CLEAR=LEFT><BR><BR>
</P>
<P><BR><BR>
</P>
<H3 CLASS="western">2.5.2 - Test 2: Dump di tabelle (fetch)</H3>
<P>Il secondo test consiste nel mettere in massimo risalto la
differenza della &ldquo;pura&rdquo; velocit&agrave; di esecuzione
delle librerie.</P>
<P>Questo si &egrave; ottenuto eseguendo query molto semplici (dump
di intere tabelle e query su indici senza eseguire join) in questo
modo si &egrave; fatto largo uso delle operazioni delle librerie per
la gestione dei risulatati (operazioni di fetch).<BR>Si sono eseguite
queste operazioni molteplici volte in modo da rendere minimo in
proporzione l'overhead dovuto al parsing della libreria che abbiamo
misurato con il test precedente.</P>
<P>Proprio riguardo all'operazione di fetch, siccome Metabase non
supporta il fetch associativo (data una tupla restituisce un array
associativo contenente i nomi delle colonne come indici dell'array)
che per&ograve; &egrave; largamente usato dai programmatori PHP si
sono eseguite due batterie di test sia con fetch associativo che non
associativo.</P>
<P><BR><BR>
</P>
<P><IMG SRC="index_html_meb2c537.gif" NAME="Object6" ALIGN=LEFT WIDTH=597 HEIGHT=104><BR CLEAR=LEFT><BR><BR>
</P>
<P><IMG SRC="index_html_4e8e89cb.gif" NAME="Object4" ALIGN=LEFT WIDTH=434 HEIGHT=246><BR CLEAR=LEFT><BR><BR>
</P>
<P><IMG SRC="index_html_274e01ca.gif" NAME="Object5" ALIGN=LEFT WIDTH=437 HEIGHT=247><BR CLEAR=LEFT><BR><BR>
</P>
<H3 CLASS="western">2.5.3 - Test 3: Insieme tipo di web query</H3>
<P STYLE="font-weight: medium">Questo test racchiude un insieme di
richieste al database con un insieme di query tipiche di un
applicazione web.</P>
<P STYLE="font-weight: medium">L'insieme delle operazioni oltre alla
connessione al database comprendeva 2 query su indice (verifica
dell'utente e dell'argomento richiesto) una query con join su 3
tabelle ordinamento e limit (prelievo delle ultime 10 notizie di un
argomento) tutto compreso della gestione dei relativi risultati.<BR>Le
query sono state eseguite pi&ugrave; volte con parametri differenti
per simulare l'accesso a diversi servizi da parte di utenti diversi.</P>
<P STYLE="font-weight: medium">Naturalmente per l'attendibilit&agrave;
dei risultati il database &egrave; stato popolato con i dati raccolti
in oltre un anno di servizio del server del progetto UniversiBO.</P>
<P STYLE="font-weight: medium"><IMG SRC="index_html_4e0b3603.gif" NAME="Object7" ALIGN=LEFT WIDTH=342 HEIGHT=102><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="font-weight: medium"><IMG SRC="index_html_40d124b3.gif" NAME="Object8" ALIGN=LEFT WIDTH=379 HEIGHT=253><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="font-weight: medium"><IMG SRC="index_html_63c56768.gif" NAME="Object9" ALIGN=LEFT WIDTH=379 HEIGHT=248><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<H3 CLASS="western"><B>2.5.4 - Considerazioni sui test</B></H3>
<P STYLE="font-weight: medium">Ricordando che a causa degli
inconvenienti accaduti in fase di test i risultati ottenuti con
PostgreSQL non sono attendibili in valore assoluto e che le
prestazioni non sono certamente quelle che si possono ottenere con
una macchina server dell'ultima generazione con il quale si sperano
di riuscire a gestire fino a qualche decina di richieste al secondo.</P>
<P STYLE="font-weight: medium">Il test che permette di dare una stima
di confronto tra le prestazioni complessive dei vari DBAL &egrave;
naturalmente l'utimo.</P>
<P STYLE="font-weight: medium">Nel complesso i DBAL pi&ugrave;
performati sono stati PEAR::DB e ADOdb mentre MDB &egrave; stato
largamente il peggiore in tutti i test.<BR>Non male si &egrave;
comportato Metabase che in base alle informazioni disponibili in rete
avrebbe dovuto ottenere prestazioni peggiori di tutti gli altri
sistemi.</P>
<P STYLE="font-weight: medium">Infine si dovrebbe tener conto che
tutti i test sono stati fatti per tutti su un database genereato da
Metabase e MDB tramite XML.<BR>Nell'ambito del processo di sviluppo
di un'applicazione reale con PEAR::DB e ADOdb ci si troverebbe a
dover implementare tabelle, indici e scelta dei tipi di dato su ogni
singola piattaforma con possibile magine di incremento delle
prestazioni per questi due sistemi.</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">3 - Conclusioni</H1>
<P><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=40*>
	<COL WIDTH=47*>
	<COL WIDTH=51*>
	<COL WIDTH=43*>
	<COL WIDTH=38*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14% BGCOLOR="#ffff00">
				<P ALIGN=LEFT>  DBAL</P>
			</TH>
			<TH WIDTH=15%>
				<P><FONT SIZE=2>Architettura</FONT></P>
			</TH>
			<TH WIDTH=19%>
				<P><FONT SIZE=2>Documentazione</FONT></P>
			</TH>
			<TH WIDTH=20%>
				<P><FONT SIZE=2>Portabilit&agrave;</FONT></P>
			</TH>
			<TH WIDTH=17%>
				<P><FONT SIZE=2>Semplicit&agrave; d'uso</FONT></P>
			</TH>
			<TH WIDTH=15%>
				<P><FONT SIZE=2>Performance</FONT></P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14% BGCOLOR="#ffff00">
				<P ALIGN=LEFT> DB</P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Ottima</FONT></P>
			</TD>
			<TD WIDTH=19%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=20%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Buone</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14% BGCOLOR="#ffff00">
				<P ALIGN=LEFT> ADOdb</P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=19%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona/Ottima</FONT></P>
			</TD>
			<TD WIDTH=20%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona/Ottima</FONT></P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Buone</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14% BGCOLOR="#ffff00">
				<P ALIGN=LEFT> MDB</P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Ottima</FONT></P>
			</TD>
			<TD WIDTH=19%>
				<P ALIGN=CENTER><FONT SIZE=2>Discreta</FONT></P>
			</TD>
			<TD WIDTH=20%>
				<P ALIGN=CENTER><FONT SIZE=2>Discreta <BR></FONT><FONT SIZE=1 STYLE="font-size: 8pt">(previsioni
				ottime in futuro)</FONT></P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER><FONT SIZE=2>Buona</FONT></P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Scarse</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14% BGCOLOR="#ffff00">
				<P ALIGN=LEFT> Metabase</P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Scarsa</FONT></P>
			</TD>
			<TD WIDTH=19%>
				<P ALIGN=CENTER><FONT SIZE=2>Discreta</FONT></P>
			</TD>
			<TD WIDTH=20%>
				<P ALIGN=CENTER><FONT SIZE=2>Ottima</FONT></P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER><FONT SIZE=2>Discreta</FONT></P>
			</TD>
			<TD WIDTH=15%>
				<P ALIGN=CENTER><FONT SIZE=2>Discrete</FONT></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P><BR><BR>
</P>
<P>Questo lavoro &egrave; stato iniziato con l'idea di scegliere un
DBAL per lo sviluppo di un'applicazione web Open Source all'interno
dell'universit&agrave; di Bologna.</P>
<P>Particolare attenzione al confronto prestazionale &egrave; dovuto
alle risorse hardware attualmente molto limitate dedicate al progetto
per cui risulta di vitale importanza poter gestire la scalabilit&agrave;
dell'applicazione sulla macchina ora a disposizione.</P>
<P>L'intenzione di utilizzare un DBAL &egrave; dovuta al fatto che il
progetto risulta appetibile da altre facolt&agrave;  diverse da
quella in cui si &egrave; sviluppato, quindi si intende renderlo pi&ugrave;
portabile possibile.<BR>Inoltre accedendo il sistema a molti altri
database di tipi diversi all'interno della rete di ateneo (Oracle,
MsSQL e MySQL) si ritiene utile la possibilit&agrave; di usare una
sola interfaccia per accedere a tutti quanti.</P>
<P>Ora il progetto &egrave; sviluppato direttamente sulle librerie
PostgreSQL, ma si sente la necessit&agrave; di darne almeno
un'implementazione in MySQL in quanto purtroppo largamente utilizzato
nell'ambiente PHP e in altre facolt&agrave; interessate al progetto.</P>
<P>Altra motivazione percui si vuole utilizzare anche MySQL &egrave;
per rendere pi&ugrave; semplice l'ingresso di nuovi ragazzi
interessati allo sviluppo dell'applicazione che risulta di vitale
importanza perch&egrave; il progetto possa continuare ad essere Open
Source e gestito da studenti. Sembra una banalit&agrave; ma molti si
sono arresi al momento in cui si sono trovati a tentare ad utilizzare
PostgreSQL sui loro sistemi Windows!!</P>
<P>Tra i DBAL analizzati nonostante il fascino della possibilit&agrave;
offerta da MDB e Metabase di descrivere il database l'applicazione in
formato XML si &egrave; deciso di scartarli.<BR>Non si ritiene
neccessaria questa feature in quanto al momento sono solo 2 i sistemi
target e si preferisce dare una doppia implementazione del codice SQL
che descrive le tabelle potendo inserire  tutte le ottimizzazioni del
caso.<BR>Inoltre il progetto MDB &egrave; molto promettente ma si &egrave;
rivelato il peggiore in tutti i test prestazionali e soprattutto non
dispone attualmente della sufficiente maturit&agrave;.<BR>Metabase
offre un'architettura ormai obsoleta, non permette di eseguire alcune
operazioni molto utili come il fetch associativo dei risultati.</P>
<P STYLE="font-weight: medium">Tra PEAR::DB e ADOdb considerando le
prestazioni simili tra loro (PEAR::DB risulta inferirore solo nel
secondo test) a favore di ADOdb resta il sistema di Smart
Transaction, alcune features di interesse marginale per esportare i
dati e la doppia licenza che libera da qualsiasi tipo di vincolo.<BR>A
favore di PEAR::DB ci sono un'interfaccia full-OO e magari la
possibilit&agrave; di una semplice transizione a PEAR::MDB essendo le
due interfacce molto simili.</P>
<H1 CLASS="western" STYLE="page-break-before: always">4 - Appendice:
Database di Test - XML schema</H1>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;?xml
version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;database&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace">
 <B>&lt;name&gt;</B>test_dbal<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
 <B>&lt;create&gt;</B>0<B>&lt;/create&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
 <B>&lt;table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
   <B>&lt;name&gt;</B>utente<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
   <B>&lt;declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
     <B>&lt;field&gt; </B></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
       <B>&lt;name&gt;</B>id_utente<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;default&gt;</B>0<B>&lt;/default&gt; &lt;notnull&gt;</B>1<B>&lt;/notnull&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
     <B>&lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;name&gt;</B>username<B>&lt;/name&gt; &lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;lenght&gt;</B>32<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>passwd<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt; &lt;lenght&gt;</B>32<B>&lt;/lenght&gt;
&lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
     <B>&lt;field&gt; &lt;name&gt;</B>livello<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
     <B>&lt;field&gt; &lt;name&gt;</B>email<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt; &lt;lenght&gt;</B>255<B>&lt;/lenght&gt;
&lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>ultimo_login<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>inoltro_email<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;lenght&gt;</B>1<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>ad_username<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;lenght&gt;</B>255<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
     <B>&lt;index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>utente_id_utente<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;unique&gt;</B>1<B>&lt;/unique&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;field&gt; &lt;name&gt;</B>id_utente<B>&lt;/name&gt;
&lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;/declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;name&gt;</B>id_utente<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;start&gt;</B>511<B>&lt;/start&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;on&gt; &lt;table&gt;</B>utente<B>&lt;/table&gt;
&lt;field&gt;</B>id_utente<B>&lt;/field&gt; &lt;/on&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;name&gt;</B>argomento<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>id_argomento<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;default&gt;</B>0<B>&lt;/default&gt; &lt;notnull&gt;</B>1<B>&lt;/notnull&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;name&gt;</B>tipo_argomento<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;lenght&gt;</B>1<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>visite<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;name&gt;</B>immagine<B>&lt;/name&gt; &lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
        &lt;lenght&gt;</B>64<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>files_attivo<B>&lt;/name&gt;
&lt;type&gt;</B>boolean<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>news_attivo<B>&lt;/name&gt;
&lt;type&gt;</B>boolean<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>forum_attivo<B>&lt;/name&gt;
&lt;type&gt;</B>boolean<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>diritti_visualizzazione<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>nome_argomento<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;lenght&gt;</B>64<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>ultima_modifica<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>id_forum_phpbb<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>id_group_phpbb<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>argomento_id_argomento<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;unique&gt;</B>1<B>&lt;/unique&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;field&gt; &lt;name&gt;</B>id_argomento<B>&lt;/name&gt;
&lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;/declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;name&gt;</B>id_argomento<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;start&gt;</B>298<B>&lt;/start&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;on&gt; &lt;table&gt;</B>argomento<B>&lt;/table&gt;
&lt;field&gt;</B>id_argomento<B>&lt;/field&gt; &lt;/on&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;name&gt;</B>notizia<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>id_notizia<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;default&gt;</B>0<B>&lt;/default&gt; &lt;notnull&gt;</B>1<B>&lt;/notnull&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>titolo<B>&lt;/name&gt; &lt;type&gt;</B>text<B>&lt;/type&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;lenght&gt;</B>150<B>&lt;/lenght&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>data_inserimento<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>data_scadenza<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>testo_notizia<B>&lt;/name&gt;
&lt;type&gt;</B>text<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>id_utente<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>eliminata<B>&lt;/name&gt;
&lt;type&gt;</B>boolean<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;name&gt;</B>notizia_id_notizia<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><B>
       &lt;unique&gt;</B>1<B>&lt;/unique&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
       &lt;field&gt; &lt;name&gt;</B>id_notizia<B>&lt;/name&gt;
&lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;/index&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;/declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;name&gt;</B>id_notizia<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><B>
   &lt;start&gt;</B>457<B>&lt;/start&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;on&gt; &lt;table&gt;</B>notizia<B>&lt;/table&gt;
&lt;field&gt;</B>id_notizia<B>&lt;/field&gt; &lt;/on&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/sequence&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT SIZE=2><FONT FACE="Courier New, monospace"><B>
   &lt;name&gt;</B>notizia_argomento<B>&lt;/name&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>id_notizia<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
     &lt;field&gt; &lt;name&gt;</B>id_argomento<B>&lt;/name&gt;
&lt;type&gt;</B>integer<B>&lt;/type&gt; &lt;/field&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
   &lt;/declaration&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
 &lt;/table&gt;</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>&lt;/database&gt;</B></FONT></FONT></P>
<H1 CLASS="western" STYLE="page-break-before: always">5 - Appendice:
cenni al linguaggio PHP</H1>
<P>Nelle prossime pagine &egrave; riportata una brevissima
introduzione al linguaggio PHP.<BR>Questo capitolo non ha la minima
intenzione di costituire una panoramica esaustiva, ma spera di
fornire le alcune conoscenze che possono essere utili per comprendere
meglio il contenuto di questo documento.<BR>La guida di riferimento
completa &egrave; disponibile all'indirizzo
<A HREF="http://it.php.net/manual/en/langref.php">http://it.php.net/manual/en/langref.php</A>.</P>
<H2 CLASS="western">5.1 - Primo programma in PHP</H2>
<P>PHP pu&ograve; essere anche utilizzato come linguaggio general
purpose (dalla versione 4.3.0 &egrave; possibile lanciare script PHP
da riga di comando) ma solitamente utilizzato per generare pagine
html che verranno visualizzate su un browser.</P>
<P><IMG SRC="index_html_150c9547.gif" NAME="Immagine2" ALIGN=LEFT WIDTH=374 HEIGHT=263 BORDER=0><BR CLEAR=LEFT><SPAN ID="Cornice2" STYLE="float: left; width: 9.92cm; height: 4.79cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;!DOCTYPE
	HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;html&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;head&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;title&gt;Esempio1&lt;/title&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/head&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;body&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo &quot;Hello World!&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/body&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/html&gt;</FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>
<SPAN ID="Cornice1" STYLE="float: left; width: 9.92cm; height: 4.08cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;!DOCTYPE
	HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;html&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;head&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;title&gt;Esempio1&lt;/title&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/head&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;body&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>Hello
	World!</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/body&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/html&gt;</FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Il codice pu&ograve; essere inserito
direttamente all'interno di una pagina html, l'interprete PHP inizia
la valutazione nel momento in cui incontra il tag <FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#ff3366">&lt;?php
</FONT></FONT></FONT>e termina con tag <FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#ff3366">?&gt;</FONT></FONT></FONT>.
</P>
<P STYLE="margin-bottom: 0cm">La sintassi del linguaggio &egrave;
C-like, le istruzioni sono separate da <FONT COLOR="#280099"><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#ff3366">;
</FONT></FONT></FONT></FONT></FONT>, i commenti seguono le stesse
regole del C &ldquo;<FONT FACE="Courier New, monospace"><FONT COLOR="#666666">//...
</FONT></FONT>&rdquo;, &ldquo;<FONT FACE="Courier New, monospace"><FONT COLOR="#666666">/*...*/</FONT></FONT>&rdquo;
&ldquo;<FONT FACE="Courier New, monospace"><FONT COLOR="#666666">#...
</FONT></FONT>&rdquo; cos&igrave; come i costrutti principali che
vedremo.</P>
<H2 CLASS="western">5.2 - Tipi di dato e variabili</H2>
<P>Sono utilizzati dal linguaggio i seguenti tipi di dato:</P>
<P STYLE="margin-bottom: 0cm"><B>Tipi primitivi:</B></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><I>boolean</I> (<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">true</FONT></FONT></FONT>,
	<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">false</FONT></FONT></FONT>)</P>
	<LI><P STYLE="margin-bottom: 0cm"><I>integer</I> (<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">2</FONT></FONT></FONT>,
	<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">0x1A</FONT></FONT></FONT>)</P>
	<LI><P STYLE="margin-bottom: 0cm"><I>float</I>  (<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">1.23</FONT></FONT></FONT>,
	<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">1.2e3</FONT></FONT></FONT>,
	<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">7E-10</FONT></FONT></FONT>
	)</P>
	<LI><P STYLE="margin-bottom: 0cm"><I>string</I> (<FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">'single
	quoted'</FONT></FONT></FONT>, <FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">&rdquo;double
	quoted&rdquo;</FONT></FONT></FONT>)</P>
	<P>nel secondo formato permettono di inserire caratteri speciali e
	di sostituire automaticamente i valori delle variabili al loro
	interno</P>
</UL>
<P STYLE="margin-bottom: 0cm"><B>Tipi composti:</B></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><I>array</I>: non si tratta dei
	semplici array C (sequenza di elementi) ma di array associativi che
	legano una chiave &ldquo;key&rdquo; ad un valore &ldquo;value&rdquo;,
	in particolare la &ldquo;key&rdquo; pu&ograve; essere un intero o
	una stringa, il &ldquo;value&rdquo; un qualsiasi tipo.</P>
	<LI><P><SPAN ID="Cornice3" STYLE="float: left; width: 11.06cm; height: 4.25cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
		 $arr = <B>array</B>( 1 =&gt; &rsquo;pippo&rsquo;, 4 =&gt; true,</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>	12
		, &rsquo;minnie&rsquo; =&gt; &rsquo;paperino&rsquo;,</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>	6
		=&gt; 456 );</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
		</P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
		 $arr[] = 56;</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
		 //usa il prossimo indice numerico libero [7]</FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
		</P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
		 $arr[&rdquo;minnie&rdquo;] = 42;   </FONT></FONT></FONT>
		</P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
		<FONT COLOR="#4c4c4c"> //cambia il tipo del &ldquo;value&rdquo;;</FONT></FONT></FONT></FONT></P>
		<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
	</SPAN><BR CLEAR=LEFT><I>oggetti</I>: permette la creazione di
	oggetti e la definizione di classi con metodi e propriet&agrave; che
	posso essere &ldquo;statici&rdquo; e l'ereditariet&agrave;, ma sono
	assenti i costrutti per l'incapsulamento.<BR>Solo a partire dalla
	prossima versione PHP 5 saranno presenti le keywords <FONT SIZE=3><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">public</FONT></FONT></FONT>,
	<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">protected</FONT></FONT>,
	<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">private</FONT></FONT>
	per l'incapsulamento dei dati e dei metodi e <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">abstract</FONT></FONT>
	per creare interfacce.
	</P>
</UL>
<P STYLE="margin-bottom: 0cm"><SPAN ID="Cornice4" STYLE="float: left; width: 14.79cm; height: 9.85cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>class</B> A</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     function A() {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	         echo &quot;Io sono il costruttore.&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     function example() {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	         echo &quot;Io sono A::example()&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>class</B> B <B>extends</B> A {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     function example() {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	         echo &quot;Io sono B::example().&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	         <B>parent</B>::example();</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $b = <B>new</B> B;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	se in B non &egrave; definito un costruttore viene chiamato quello
	di A</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $b -&gt; example();</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	chiama il metodo applicato all'oggetto $b</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#2300dc"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 A::example(); </FONT></FONT></FONT>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//chiama
	il metodo di A senza necessitare di una istanza di oggetto</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT><B>Tipi speciali</B>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><I>resource</I>: rappresentano
	riferimenti o collegamenti a entit&agrave; esterne;</P>
	<LI><P><I>NULL</I>: Esiste la costante speciale <FONT SIZE=3><FONT FACE="Courier New, monospace"><FONT COLOR="#280099">NULL</FONT></FONT></FONT>,
	ha valore che rappresenta &ldquo;nessun valore&rdquo;.</P>
</UL>
<P><B>Variabili</B></P>
<P>Le variabili sono rappresentate dal simbolo '<FONT SIZE=3><FONT FACE="Courier New, monospace"><FONT COLOR="#280099">$</FONT></FONT></FONT>'
seguito dal nome della variabile.<BR>Il tipo di una variabile non
viene dichiarato nel programma, ma viene determinato dinamicamente
dal sistema a seconda del contesto e pu&ograve; cambiare a run-time.
Questo aspetto &egrave; di forte importanza riguardo alla sicurezza e
verr&agrave; approfondito in seguito con degli esempi.</P>
<P>Particolarit&agrave; del linguaggio &egrave; la possibilit&agrave;
di definire dinamicamente il nome delle strutture dati, sono quindi
utilizzabili &ldquo;variabili variabili&rdquo; tramite notazioni del
tipo: '<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">$$nome_var</FONT></FONT>'
che istanzia la variabile avente nome contenuto in '<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">$nome_var</FONT></FONT>'.</P>
<H2 CLASS="western">5.3 - Costrutti</H2>
<P>Molto simile al C prevede sintassi identica per i costrutti <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">while</FONT></FONT>,
<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">for</FONT></FONT>
con sintassi C-like.<BR>Nel costrutto <SPAN STYLE="font-weight: medium"><FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">if</FONT></FONT></SPAN>
vi &egrave; aggiunta la possibilit&agrave; di utilizzare <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">elseif</FONT></FONT>
come indicato nei seguenti esempi</P>
<P><SPAN ID="Cornice8" STYLE="float: left; width: 7.29cm; height: 5.92cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // esempio if..elseif..else</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>if</B> ($a &gt; $b) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;a &egrave; maggiore di b&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>elseif</B> ($a == $b){</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;a &egrave; uguale a b&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>else</B>{</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;a &egrave; minore di b&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>
<SPAN ID="Cornice5" STYLE="float: left; width: 7.99cm; height: 5.76cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // esempio ciclo while</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $i = 1;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>while</B> ($i &lt;= 10) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $i;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   $i++;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // esempio ciclo for</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B><SPAN STYLE="font-style: normal">for</SPAN></B> ($i = 1; $i &lt;=
	10; $i++) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo $i;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Leggermente diversa &egrave; la sintassi del
costrutto <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">switch</FONT></FONT>
</P>
<P><SPAN ID="Cornice6" STYLE="float: left; width: 8.51cm; height: 6.07cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // esempio switch</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>switch</B> ($i) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   case 1:</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	       echo &quot;i &egrave; uguale a 1&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	       break;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   case 2:</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	       echo &quot;i &egrave; uguale a 2&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	       break;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   default:</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	       echo &quot;i &egrave; diverso da 1 o 2&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>
<SPAN ID="Cornice7" STYLE="float: left; width: 10.66cm; height: 5.9cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // per resettare il contatore interno</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 reset ($arr);</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // esempio foreach</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 <B>foreach</B> ($arr as $key =&gt; $value) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;Chiave: $key; Valore: $value&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 // equivalente al seguente</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 reset ($arr);</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 while (<B>list</B>($key, $value) = <B>each</B> ($arr)) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;Chiave: $key; Valore: $value&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Particolarit&agrave; di PHP &egrave; la
presenza del costrutto <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">foreach</FONT></FONT>
che permette di visitare gli array sfruttando un indice interno per
scorrere tutte le chiavi.
</P>
<H2 CLASS="western">5.4 - Funzioni, scope e inclusioni</H2>
<P>Non essendo PHP un linguaggio fortemente tipato, le funzioni non
necessitano la definizione di un valore di ritorno.<BR>I parametri
possono essere passati per valore o per riferimento (aggiungendo '<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">&amp;</FONT></FONT>'
di fronte al nome del parametro).<BR>Infine &egrave; possibile
definire funzioni con parametri non obbligatori (con la notazione
<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">nome_parametro='valore_default'</FONT></FONT>
) o con numero variabile di parametri (tramite le funzioni
<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">func_num_args()</FONT></FONT>
e <FONT FACE="Courier New, monospace"><FONT COLOR="#280099">func_get_args()</FONT></FONT>
) tuttavia non &egrave; supportato l'overloading dei nomi delle
funzioni.<BR>Infine le funzioni PHP possono accedere alle variabili
dello scope globale dichiarandole opportunamente con la parola chiave
<FONT FACE="Courier New, monospace"><FONT COLOR="#280099">global</FONT></FONT>.</P>
<P><SPAN ID="Cornice9" STYLE="float: left; width: 13.21cm; height: 7.04cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 function</B> error_msg($arg='unknown') {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;Evento errore '$arg'&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>
	 function</B> notice_msg($string) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   echo &quot;Avviso: 'string'&lt;br&gt;\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $func = 'notice_msg';</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $func();  <FONT COLOR="#4c4c4c">// chiama notice_msg() con
	parametro di default</FONT></FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $func = 'error_msg';</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $func('scoppia!');  <FONT COLOR="#4c4c4c">// chiama error_msg()</FONT></FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Le funzioni in PHP se definite nello scope
globale possono essere referenziate prima di essere definite. Se sono
definite all'interno di uno scope &ldquo;condizionato&rdquo;
viceversa sono referenziabili solo dopo la loro definizione come
mostrato nell'esempio sottostante.
</P>
<P><SPAN ID="Cornice10" STYLE="float: left; width: 13.21cm; height: 4.52cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 function foo() {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   function bar() {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     echo &quot;I don't exist until foo() is called.\n&quot;;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 foo();</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 //la chiamata a bar() pu&ograve; essere solo dopo foo()</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 bar();</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>La stessa regola vale per funzioni e classi
definite all'interno di file &ldquo;inclusi&rdquo; tramite i
costrutti <FONT FACE="Courier New, monospace"><FONT COLOR="#280099">include()</FONT></FONT>
o <FONT FACE="Courier New, monospace"><FONT COLOR="#280099">require()</FONT></FONT>.<BR>In
questo caso inoltre, il file incluso eredita lo scope in cui &egrave;
avvenuta la sua chiamata avendo accesso indiscriminatamente a tutte
le strutture in esso definite e potendone definire di nuove che
saranno disponibili al momento del ritorno del controllo.
</P>
<H2 CLASS="western">5.5 - Variabili esterne.</H2>
<P>Oltre alle librerie di base per l'accesso alle risorse del server
e di rete PHP implementa molti servizi, e mette a disposizione una
larghissima quantit&agrave; di librerie per il supporto alla
programmazione web.</P>
<P>In questo paragrafo prendiamo prima in considerazione solo come
PHP gestisce i meccanismi base  risorse messe a disposizione dal
protocollo HTTP</P>
<P>Questa parte &egrave; descritta in maniera pi&ugrave; dettagliata
al seguente link:
<A HREF="http://www.php.net/manual/en/language.variables.external.php">http://www.php.net/manual/en/language.variables.external.php</A>
.</P>
<P>Le richieste delle pagine web possono essere di 2 tipi GET e POST
e ad ognuna delle richieste possono essere &ldquo;allegate&rdquo;
altre informazioni tramite i COOKIE.</P>
<UL>
	<LI><P><B>GET</B></P>
</UL>
<P>Le richieste di tipo GET sono quelle che di richiesta si genera
solitamente cliccando un link o inserendo un URI nel proprio
browser.<BR>Tramite una richiesta di tipo GET possono essere passate
delle variabili utilizzando una particolare sintassi dell'URI.<BR>Si
veda per esempio il seguente URI:</P>
<P>http://www.example.com/index.php?pg=5&amp;cod_corso=0050 
</P>
<P>In questo caso viene chiamata la pagina index.php e con tutto
quello che segue il carattere ? si pu&ograve; definire un elenco di
variabili separate dal simbolo &amp;.</P>
<P>A seconda della configurazione di PHP &egrave; possibile accedere
a queste variabili in diversi modi:</P>
<P ALIGN=LEFT><SPAN ID="Cornice28" STYLE="float: left; width: 13.21cm; height: 4.52cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 4.1.0</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_GET['cod_corso'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_GET['pg'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 3</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $HTTP_GET_VARS['cod_corso'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $HTTP_GET_VARS['pg'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	con register_globals=on</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $cod_corso;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $pg;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>PHP all&rsquo;apertura di ogni pagina crea
nell&rsquo;array $_GET[] delle coppie chiave e valore corrispondenti
ai nomi delle variabili e ai loro valori.
</P>
<P ALIGN=LEFT>Un approfondimento sul motivo per cui &egrave;
sconsigliabile utilizzare register_globals=on</P>
<UL>
	<LI><P ALIGN=LEFT><B>POST</B></P>
</UL>
<P>Una richiesta di tipo POST pu&ograve; avvenire tramite l'invio di
un form di una pagina HTML, vediamone un esempio:</P>
<P ALIGN=LEFT><SPAN ID="Cornice29" STYLE="float: left; width: 14.43cm; height: 4.07cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 &lt;form action=&quot;myscript.php&quot; method=&quot;post&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   Name:  &lt;input type=&quot;text&quot; name=&quot;nome&quot;&gt;&lt;br
	/&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   Email: &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br
	/&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   Citta': &lt;br /&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   &lt;select multiple name=&quot;citta[]&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     &lt;option value=&quot;bologna&quot;
	selected=&quot;selected&quot;&gt;Bologna&lt;/option&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	     &lt;option value=&quot;ravenna&quot;&gt;Ravenna&lt;/option&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   &lt;/select&gt;&lt;br /&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   &lt;input type=&quot;hidden&quot; name=&quot;action&quot;
	value=&quot;submitted&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   &lt;input type=&quot;submit&quot; name=&quot;submit&quot;
	value=&quot;Invia!&quot;&gt;</FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 &lt;/form&gt;</FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Lo script che riceve il form pu&ograve;
accedere alle variabili che vi sono definite in modo analogo a come
descritto prima per le variabili di tipo GET.
</P>
<P STYLE="font-weight: medium"><SPAN ID="Cornice30" STYLE="float: left; width: 13.21cm; height: 4.52cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 4.1.0</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_POST['nome'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_POST['email'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_POST['citta'][0];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_POST['action'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 3</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $HTTP_POST_VARS['nome'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 [...]</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	con register_globals=on</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $nome;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $email;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 [...]</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>E' possibile con facilit&agrave; gestire anche
l'invio di files tramite HTTP-POST, si pu&ograve; vedere in dettaglio
il seguente link:
<A HREF="http://www.php.net/manual/en/features.file-upload.php">http://www.php.net/manual/en/features.file-upload.php</A>
</P>
<UL>
	<LI><P><B>COOKIES</B></P>
</UL>
<P>PHP supporta in modo trasparente i cookies HTTP definiti dalle
specifiche Netscape.</P>
<P>I cookies sono un meccanismo per salvare informazioni sul browser
remoto e permettono per esempio di seguire ed identificare utenti che
tornano sulle pagine di un sito.</P>
<P>I cookies possono essere salvati usando la funzione setcookie(). 
</P>
<P>I cookies fanno parte  dell'header HTTP e quindi la funzione
setcookie() deve essere chiamata prima dell'inizio dell'output verso
il browser.</P>
<P><SPAN ID="Cornice31" STYLE="float: left; width: 13.21cm; height: 2.33cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	Cookie che scade dopo un'ora</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 setcookie (&quot;TestCookie&quot;, $value, time()+3600);</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Nelle successive richieste da parte dello
stesso browser sar&agrave; possibile accedere alle informazioni dei
cookies sempre in maniera analoga a quanto visto per le variabili di
GET e POST.
</P>
<P><SPAN ID="Cornice32" STYLE="float: left; width: 13.21cm; height: 4.52cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 4.1.0</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $_COOKIE['TestCookie'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	da PHP 3</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $HTTP_POST_VARS['nome'];</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#4c4c4c"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//
	con register_globals=on</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 echo $TestCookie;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Si possono trovare informazioni pi&ugrave;
dettagliate ai
link:<BR><A HREF="http://www.php.net/manual/en/features.cookies.php">http://www.php.net/manual/en/features.cookies.php</A>
<BR><A HREF="http://www.php.net/manual/en/function.setcookie.php">http://www.php.net/manual/en/function.setcookie.php</A>

</P>
<H2 CLASS="western">5.6 - Sessioni</H2>
<P>Le sessioni di PHP (disponibili dalla versione 4) sopperiscono
alla limitazione &ldquo;stateless&rdquo; del protocollo HTTP</P>
<P>Permettono di registrare sul server web delle variabili che
resteranno valide per tutta la durata di una &ldquo;sessione&rdquo;
dell&rsquo;utente (finch&eacute; non viene chiusa la finestra del
browser o allo scadere di un certo tempo di inattivit&agrave;).</P>
<P>Lo &ldquo;stato&rdquo; viene mantenuto tramite un identificativo
di sessione &lsquo;SID&rsquo; che pu&ograve; essere salvato tramite
COOKIES o inviato ogni volta tramite GET riscrivendo tutti gli URL
del sito (url_rewriter esegue questa funzione in automatico) 
</P>
<P>Il funzionamento delle sessioni dipende da molti parametri di
configurazione in php.ini riguardanti la durata delle sessioni, il
garbage, l'utilizzo di cookie e/o url_rewriter, l'handler per il
mantenimento delle informazioni, ecc..</P>
<P>Una sessione viene aperta o ripristinata chiamando la funzione
<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">session_start()</FONT></FONT>;</P>
<P ALIGN=LEFT><SPAN ID="Cornice33" STYLE="float: left; width: 13.21cm; height: 1.85cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 session_start();</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 if (!isset($_SESSION['visite'])) {</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	   $_SESSION['visite'] = 0;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 }</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Nel caso in cui l'id di sessione venga
trasmesso tramite cookie &egrave; necessario chiamare <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">session_start()</FONT></FONT>
prima che sia iniziato l'output verso il browser.
</P>
<P>Le variabili di sessioni vengono registrate nell&rsquo;array
<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">$_SESSION[]</FONT></FONT>
(dalla ver 4.1.0) nell'array <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">$HTTP_SESSION_VARS[]</FONT></FONT>
oppure come variabili globali se &eacute; utilizzata la funzione
<FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">session_register()</FONT></FONT>
in combinazione con la direttiva <FONT FACE="Courier New, monospace"><FONT COLOR="#0000ff">register_globals=on</FONT></FONT>
; 
</P>
<P>Le variabili che sono salvate nella sessione saranno disponibili
in tutte le pagine del sito che verranno successivamente richieste
dall&rsquo;utente</P>
<P ALIGN=LEFT><SPAN ID="Cornice34" STYLE="float: left; width: 13.21cm; height: 1.85cm; border: 1px solid #000000; padding: 0.15cm; background: #e6e6e6">
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm"><FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;?php</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 session_start();</FONT></FONT></FONT></P>
	<P STYLE="margin-bottom: 0cm; font-weight: medium"><BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#0000ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	 $_SESSION['visite']++;</FONT></FONT></FONT></P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<BR>
	</P>
	<P CLASS="frame-contents" STYLE="margin-bottom: 0cm; font-weight: medium">
	<FONT COLOR="#ff3366"><FONT FACE="Courier New, monospace"><FONT SIZE=2>?&gt;</FONT></FONT></FONT></P>
</SPAN><BR CLEAR=LEFT>Tutti i dettagli riguardanti i parametri di
configurazione e le funzioni che gestiscono il meccanismo delle
sessioni sono disponibili
all'indirizzo:<BR><A HREF="http://www.php.net/manual/en/ref.session.php">http://www.php.net/manual/en/ref.session.php</A>

</P>
<H1 CLASS="western" STYLE="page-break-before: always">6 - Bibliografia
e Riferimenti</H1>
<H2 CLASS="western">6.1 - Bibliografia</H2>
<P>T.Ratschiller, T.Gerken - PHP 4.0 Applicazioni Web - Addison
Wesley</P>
<P>R.Lerdorf, K.Tatroe - Programming PHP - Paperback</P>
<P>D.Thomas, ..., aa.vv. - Professional PHP4 Programming - Paperback</P>
<H2 CLASS="western">6.2 - Risorse Internet</H2>
<P>PHP - <A HREF="http://www.php.net/">www.php.net</A> <BR>  PHP
Database Security - <A HREF="http://www.php.net/manual/en/security.php">www.php.net/manual/en/security.php</A>

</P>
<P>Zend - <A HREF="http://www.zend.com/">www.zend.com</A> <BR> 
Secure Programming in PHP - <A HREF="../../TxSicurezza/TesinaPHP/www.zend.com/zend/art/art-oertli.php">www.zend.com/zend/art/art-oertli.php</A>

</P>
<P>PEAR::DB - <A HREF="http://pear.php.net/package-info.php?pacid=46">http://pear.php.net/package-info.php?pacid=46</A>
<BR>  Quick Start Guide to Pear DB &ndash; Thomas V.V. Cox:
<A HREF="http://vulcanonet.com/soft/?pack=pear_tut">http://vulcanonet.com/soft/?pack=pear_tut</A>
<BR>  Pear::DB Primer &ndash; Joao Prado Maia:
<A HREF="http://www.onlamp.com/lpt/a/1356">http://www.onlamp.com/lpt/a/1356</A>
<BR>  Database Abstraction with Pear::DB:
<A HREF="http://www.phpbuilder.com/columns/allan20010115.php3">http://www.phpbuilder.com/columns/allan20010115.php3</A></P>
<P>ADOdb - <A HREF="http://php.weblogs.com/ADODB">http://php.weblogs.com/ADODB</A>
<BR>  Tips on Writing Portable SQL &ndash; John Lim:
<A HREF="http://php.weblogs.com/portable_sql">http://php.weblogs.com/portable_sql</A>
<BR>  Comparing PEAR DB and ADOdb &ndash; John Lim:  
	<A HREF="http://php.weblogs.com/Compare_PEAR_DB_ADOdb">http://php.weblogs.com/Compare_PEAR_DB_ADOdb</A>

</P>
<P>Metabase -
<A HREF="http://freshmeat.net/projects/metabase/?topic_id=914%2C68">http://freshmeat.net/projects/metabase/?topic_id=914%2C68</A>

</P>
<P STYLE="font-weight: medium">PEAR::MDB -
<A HREF="http://pear.php.net/package-info.php?pacid=54">http://pear.php.net/package-info.php?pacid=54</A>
<BR>  Interational PHP Magazine: &ldquo;Write Once Run Everywhere&rdquo;
- Lukas
Smith:<BR>	<A HREF="http://www.php-mag.net/itr/online_artikel/show.php3?id=283&amp;nodeid=114">http://www.php-mag.net/itr/online_artikel/show.php3?id=283&amp;nodeid=114</A>

</P>
<P STYLE="font-weight: medium"><B>Altri siti consultati:</B><BR>PHPBuilder
- <A HREF="http://www.phpbuilder.com/">www.phpbuilder.com</A> <BR>PHPDev
- <A HREF="http://www.phpdev.it/">www.phpdev.it</A> <BR>php|architect
- <A HREF="../../TxSicurezza/TesinaPHP/www.phparch.com">www.phparch.com</A>
<BR>PHPpatterns() - <A HREF="http://www.phppatterns.com/">www.phppatterns.com</A>

</P>
<P><B>Mailing List:</B><BR><A HREF="lists.ziobudda.net/mailman/listinfo/php-it">lists.ziobudda.net/mailman/listinfo/php-it</A>

</P>
<P><B>Newsgroup:</B><BR>it.comp.www.php<BR>it.comp.www.software.database
<BR><A HREF="http://news.php.net/">news.php.net</A> - php.general 
</P>
<H2 CLASS="western">6.3 - Istruzioni per l'uso</H2>
<P>Questo documento &egrave; il frutto di una tesina di uno studente;
non ci sono garanzie n&eacute; esplicite n&eacute; implicite riguardo
la qualit&agrave; di questo materiale. Anzi, &egrave; probabile che
ci siano degli errori: pertanto l&rsquo;autore non si ritiene
responsabile in alcun modo dell&rsquo;eventualit&agrave; che questi
errori condizionino qualsiasi attivit&agrave; svolgiate riferendovi a
questo documento.</P>
<P>Questo documento &egrave; una rielaborazione personale di alcuni
documenti tratti dalla rete e di alcuni dei aspetti del corso di
Sistemi Informativi IIB del prof. P.Ciaccia nell&rsquo;anno
accademico 2002/2003.</P>
<P>Il docente, l&rsquo;ateneo o le fonti bibliografiche utilizzate
non sono in alcun modo responsabili o possono essere messi in
relazione diretta con il contenuto di queste pagine dove non
esplicitamente nominati.</P>
<P>Se ho scritto delle corbellerie evidentemente le mie facolt&agrave;
mentali erano ottenebrate oppure ho capito male.</P>
<P>Se trovate degli errori farete un servizio utile a me e a tutti i
potenziali futuri lettori di questo documento segnalandoli
all&rsquo;autore, reperibile all&rsquo;indirizzo <A HREF="../../TxSicurezza/TesinaPHP/brain79@inwind.it">brain79@inwind.it</A>:
&egrave; possibile, ma non certo, che prima o poi produca una nuova
versione del documento con tali correzioni.</P>
<P>In questo momento il documento &egrave; disponibile in formato
HTML all&rsquo;indirizzo
<A HREF="http://www.brainetwork.net/homepage/si2/index.html">http://www.brainetwork.net/homepage/si2/index.html</A>
e in formato PDF all'indirizzo
<A HREF="http://www.brainetwork.net/homepage/si2/dbal.pdf">http://www.brainetwork.net/homepage/si2/dbal.pdf</A>
.</P>
<P>Questo documento &egrave; rilasciato con licenza GNU, come meglio
specificato nel paragrafo seguente: questo significa che chiunque pu&ograve;
modificarlo liberamente. Se qualcuno volesse continuare lo sviluppo
di questo documento, aggiungendo, integrando, correggendo,... pu&ograve;
trovare il sorgente OpenOffice e gli script realizzati per i test
all'indirizzo: <A HREF="http://www.brainetwork.net/homepage/si2/dbalphp.zip">http://www.brainetwork.net/homepage/si2/dbalphp.zip</A>
.</P>
<H2 CLASS="western">6.4 - Diritti e permessi per la copia, diffusione
e modifica di questo documento</H2>
<P>Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License,
Version 1.1 or any later version published by the Free Software
Foundation; with no Invariant Sections, with no Front-Cover Texts,
and with no Back-Cover Texts. A copy of the license is available on
theWorldWideWeb at <A HREF="http://www.gnu.org/licenses/fdl.html">http://www.gnu.org/licenses/fdl.html</A>.</P>
<P>Questo &egrave; un documento libero: tutti possono leggerlo,
copiarlo, diffonderlo e perfino modificarlo. Perch&eacute; resti
sempre libero, l&rsquo;autore ha posto delle condizioni che non
permettono a chi lo riceve di privare di questa libert&agrave; le
persone a cui lo passa. Per scelta dell&rsquo;autore, queste
condizioni legali con cui &egrave; possibile diffondere, duplicare
e/o modificare il presente documento sono stabilite nel precedente
paragrafo in lingua inglese.</P>
<P>Esso fa riferimento ad una licenza pure espressa in lingua
inglese, disponibile in rete presso
<A HREF="http://www.gnu.org/licenses/fdl.html">http://www.gnu.org/licenses/fdl.html</A>;
per soddisfare la curiosit&agrave; di coloro che fossero poco
familiari con tale lingua, esiste una traduzione non ufficiale di
tale licenza e tali condizioni in lingua italiana, liberamente
consultabile all&rsquo;indirizzo
<A HREF="http://www.softwarelibero.it/gnudoc/fdl.it.html">http://www.softwarelibero.it/gnudoc/fdl.it.html</A>.
Tale traduzione &egrave; &ldquo;non ufficiale&rdquo; nel senso che in
caso di disaccordo tra il testo italiano ed il testo inglese
quest&rsquo;ultimo prevale.</P>
<P><BR><BR>
</P>
<DIV ID="Table of Contents1">
	<DIV ID="Indice generale1_Head">
		<P STYLE="margin-top: 0.42cm; page-break-before: always; page-break-after: avoid">
		<FONT FACE="Albany, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Indice
		generale</B></FONT></FONT></P>
	</DIV>
	<P STYLE="margin-bottom: 0cm">1 - Introduzione il Web, PHP e DBAL	2</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">1.1 - Dall'HTML
	alle applicazioni Web	2</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">1.2 - Cos'&egrave;
	PHP	3</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">1.3 - Cosa sono i
	DataBase Abstraction Layers	4</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">1.4 -
	Problematiche e requisiti di un DBAL	4</P>
	<P STYLE="margin-bottom: 0cm">2 - DataBase Abstraction Layers per
	PHP	9</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.1 - PEAR::DB	9</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.2 - ADOdb	11</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.3 - Metabase	13</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.4 - PEAR::MDB	15</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.5 - Prestazioni
	a confronto	16</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.5.1 - Test 1:
	Overhead di conessione	17</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.5.2 - Test 2: Dump
	di tabelle (fetch)	18</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.5.3 - Test 3:
	Insieme tipo di web query	19</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.5.4 -
	Considerazioni sui test	20</P>
	<P STYLE="margin-bottom: 0cm">3 - Conclusioni	21</P>
	<P STYLE="margin-bottom: 0cm">4 - Appendice: Database di Test - XML
	schema	22</P>
	<P STYLE="margin-bottom: 0cm">5 - Appendice: cenni al linguaggio
	PHP	24</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.1 - Primo
	programma in PHP	24</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.2 - Tipi di dato
	e variabili	24</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.3 - Costrutti	26</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.4 - Funzioni,
	scope e inclusioni	26</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.5 - Variabili
	esterne.	27</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">5.6 - Sessioni	29</P>
	<P STYLE="margin-bottom: 0cm">6 - Bibliografia e Riferimenti	31</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">6.1 -
	Bibliografia	31</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">6.2 - Risorse
	Internet	31</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">6.3 - Istruzioni
	per l'uso	31</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">6.4 - Diritti e
	permessi per la copia, diffusione e modifica di questo documento	32</P>
</DIV>
<P><BR><BR>
</P>
</BODY>
</HTML>